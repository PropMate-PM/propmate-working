var nf=Object.defineProperty;var sf=(t,e,r)=>e in t?nf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ho=(t,e,r)=>sf(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function of(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function af(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var du={exports:{}},xo={},hu={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=Symbol.for("react.element"),lf=Symbol.for("react.portal"),cf=Symbol.for("react.fragment"),uf=Symbol.for("react.strict_mode"),df=Symbol.for("react.profiler"),hf=Symbol.for("react.provider"),ff=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),yf=Symbol.for("react.memo"),gf=Symbol.for("react.lazy"),Al=Symbol.iterator;function vf(t){return t===null||typeof t!="object"?null:(t=Al&&t[Al]||t["@@iterator"],typeof t=="function"?t:null)}var fu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pu=Object.assign,mu={};function Zr(t,e,r){this.props=t,this.context=e,this.refs=mu,this.updater=r||fu}Zr.prototype.isReactComponent={};Zr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yu(){}yu.prototype=Zr.prototype;function $a(t,e,r){this.props=t,this.context=e,this.refs=mu,this.updater=r||fu}var Ra=$a.prototype=new yu;Ra.constructor=$a;pu(Ra,Zr.prototype);Ra.isPureReactComponent=!0;var Ol=Array.isArray,gu=Object.prototype.hasOwnProperty,Aa={current:null},vu={key:!0,ref:!0,__self:!0,__source:!0};function xu(t,e,r){var n,s={},o=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)gu.call(e,n)&&!vu.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Zn,type:t,key:o,ref:i,props:s,_owner:Aa.current}}function xf(t,e){return{$$typeof:Zn,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oa(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zn}function wf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Il=/\/+/g;function Wo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wf(""+t.key):e.toString(36)}function $s(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Zn:case lf:i=!0}}if(i)return i=t,s=s(i),t=n===""?"."+Wo(i,0):n,Ol(s)?(r="",t!=null&&(r=t.replace(Il,"$&/")+"/"),$s(s,e,r,"",function(u){return u})):s!=null&&(Oa(s)&&(s=xf(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Il,"$&/")+"/")+t)),e.push(s)),1;if(i=0,n=n===""?".":n+":",Ol(t))for(var l=0;l<t.length;l++){o=t[l];var c=n+Wo(o,l);i+=$s(o,e,r,c,s)}else if(c=vf(t),typeof c=="function")for(t=c.call(t),l=0;!(o=t.next()).done;)o=o.value,c=n+Wo(o,l++),i+=$s(o,e,r,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function us(t,e,r){if(t==null)return t;var n=[],s=0;return $s(t,n,"","",function(o){return e.call(r,o,s++)}),n}function bf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},Rs={transition:null},kf={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Rs,ReactCurrentOwner:Aa};function wu(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:us,forEach:function(t,e,r){us(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return us(t,function(){e++}),e},toArray:function(t){return us(t,function(e){return e})||[]},only:function(t){if(!Oa(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};F.Component=Zr;F.Fragment=cf;F.Profiler=df;F.PureComponent=$a;F.StrictMode=uf;F.Suspense=mf;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kf;F.act=wu;F.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=pu({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=Aa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)gu.call(e,c)&&!vu.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Zn,type:t.type,key:s,ref:o,props:n,_owner:i}};F.createContext=function(t){return t={$$typeof:ff,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:hf,_context:t},t.Consumer=t};F.createElement=xu;F.createFactory=function(t){var e=xu.bind(null,t);return e.type=t,e};F.createRef=function(){return{current:null}};F.forwardRef=function(t){return{$$typeof:pf,render:t}};F.isValidElement=Oa;F.lazy=function(t){return{$$typeof:gf,_payload:{_status:-1,_result:t},_init:bf}};F.memo=function(t,e){return{$$typeof:yf,type:t,compare:e===void 0?null:e}};F.startTransition=function(t){var e=Rs.transition;Rs.transition={};try{t()}finally{Rs.transition=e}};F.unstable_act=wu;F.useCallback=function(t,e){return xe.current.useCallback(t,e)};F.useContext=function(t){return xe.current.useContext(t)};F.useDebugValue=function(){};F.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};F.useEffect=function(t,e){return xe.current.useEffect(t,e)};F.useId=function(){return xe.current.useId()};F.useImperativeHandle=function(t,e,r){return xe.current.useImperativeHandle(t,e,r)};F.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};F.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};F.useMemo=function(t,e){return xe.current.useMemo(t,e)};F.useReducer=function(t,e,r){return xe.current.useReducer(t,e,r)};F.useRef=function(t){return xe.current.useRef(t)};F.useState=function(t){return xe.current.useState(t)};F.useSyncExternalStore=function(t,e,r){return xe.current.useSyncExternalStore(t,e,r)};F.useTransition=function(){return xe.current.useTransition()};F.version="18.3.1";hu.exports=F;var P=hu.exports;const qr=of(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=P,Sf=Symbol.for("react.element"),jf=Symbol.for("react.fragment"),Nf=Object.prototype.hasOwnProperty,Cf=_f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ef={key:!0,ref:!0,__self:!0,__source:!0};function bu(t,e,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)Nf.call(e,n)&&!Ef.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Sf,type:t,key:o,ref:i,props:s,_owner:Cf.current}}xo.Fragment=jf;xo.jsx=bu;xo.jsxs=bu;du.exports=xo;var a=du.exports,ku={exports:{}},Ae={},_u={exports:{}},Su={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,$){var O=C.length;C.push($);e:for(;0<O;){var Q=O-1>>>1,te=C[Q];if(0<s(te,$))C[Q]=$,C[O]=te,O=Q;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var $=C[0],O=C.pop();if(O!==$){C[0]=O;e:for(var Q=0,te=C.length,Vt=te>>>1;Q<Vt;){var ot=2*(Q+1)-1,yr=C[ot],it=ot+1,Kt=C[it];if(0>s(yr,O))it<te&&0>s(Kt,yr)?(C[Q]=Kt,C[it]=O,Q=it):(C[Q]=yr,C[ot]=O,Q=ot);else if(it<te&&0>s(Kt,O))C[Q]=Kt,C[it]=O,Q=it;else break e}}return $}function s(C,$){var O=C.sortIndex-$.sortIndex;return O!==0?O:C.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,g=!1,v=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(C){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=C)n(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=r(u)}}function w(C){if(x=!1,y(C),!v)if(r(c)!==null)v=!0,on(b);else{var $=r(u);$!==null&&an(w,$.startTime-C)}}function b(C,$){v=!1,x&&(x=!1,m(T),T=-1),g=!0;var O=h;try{for(y($),f=r(c);f!==null&&(!(f.expirationTime>$)||C&&!be());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var te=Q(f.expirationTime<=$);$=t.unstable_now(),typeof te=="function"?f.callback=te:f===r(c)&&n(c),y($)}else n(c);f=r(c)}if(f!==null)var Vt=!0;else{var ot=r(u);ot!==null&&an(w,ot.startTime-$),Vt=!1}return Vt}finally{f=null,h=O,g=!1}}var j=!1,N=null,T=-1,K=5,I=-1;function be(){return!(t.unstable_now()-I<K)}function wt(){if(N!==null){var C=t.unstable_now();I=C;var $=!0;try{$=N(!0,C)}finally{$?bt():(j=!1,N=null)}}else j=!1}var bt;if(typeof p=="function")bt=function(){p(wt)};else if(typeof MessageChannel<"u"){var sn=new MessageChannel,as=sn.port2;sn.port1.onmessage=wt,bt=function(){as.postMessage(null)}}else bt=function(){_(wt,0)};function on(C){N=C,j||(j=!0,bt())}function an(C,$){T=_(function(){C(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,on(b))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(C){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var O=h;h=$;try{return C()}finally{h=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var O=h;h=C;try{return $()}finally{h=O}},t.unstable_scheduleCallback=function(C,$,O){var Q=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?Q+O:Q):O=Q,C){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=O+te,C={id:d++,callback:$,priorityLevel:C,startTime:O,expirationTime:te,sortIndex:-1},O>Q?(C.sortIndex=O,e(u,C),r(c)===null&&C===r(u)&&(x?(m(T),T=-1):x=!0,an(w,O-Q))):(C.sortIndex=te,e(c,C),v||g||(v=!0,on(b))),C},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(C){var $=h;return function(){var O=h;h=$;try{return C.apply(this,arguments)}finally{h=O}}}})(Su);_u.exports=Su;var Pf=_u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=P,Re=Pf;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ju=new Set,An={};function fr(t,e){Hr(t,e),Hr(t+"Capture",e)}function Hr(t,e){for(An[t]=e,t=0;t<e.length;t++)ju.add(e[t])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ji=Object.prototype.hasOwnProperty,$f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ll={},Ul={};function Rf(t){return ji.call(Ul,t)?!0:ji.call(Ll,t)?!1:$f.test(t)?Ul[t]=!0:(Ll[t]=!0,!1)}function Af(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Of(t,e,r,n){if(e===null||typeof e>"u"||Af(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function we(t,e,r,n,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ue[t]=new we(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ue[e]=new we(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ue[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ue[t]=new we(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ue[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ue[t]=new we(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ue[t]=new we(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ue[t]=new we(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ue[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ia=/[\-:]([a-z])/g;function La(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ia,La);ue[e]=new we(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ia,La);ue[e]=new we(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ia,La);ue[e]=new we(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ue[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)});ue.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ue[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ua(t,e,r,n){var s=ue.hasOwnProperty(e)?ue[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Of(e,r,s,n)&&(r=null),n||s===null?Rf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var xt=Tf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ds=Symbol.for("react.element"),jr=Symbol.for("react.portal"),Nr=Symbol.for("react.fragment"),Fa=Symbol.for("react.strict_mode"),Ni=Symbol.for("react.profiler"),Nu=Symbol.for("react.provider"),Cu=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ci=Symbol.for("react.suspense"),Ei=Symbol.for("react.suspense_list"),Ma=Symbol.for("react.memo"),jt=Symbol.for("react.lazy"),Eu=Symbol.for("react.offscreen"),Fl=Symbol.iterator;function ln(t){return t===null||typeof t!="object"?null:(t=Fl&&t[Fl]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,Vo;function gn(t){if(Vo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Vo=e&&e[1]||""}return`
`+Vo+t}var Ko=!1;function Go(t,e){if(!t||Ko)return"";Ko=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ko=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?gn(t):""}function If(t){switch(t.tag){case 5:return gn(t.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 2:case 15:return t=Go(t.type,!1),t;case 11:return t=Go(t.type.render,!1),t;case 1:return t=Go(t.type,!0),t;default:return""}}function Pi(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nr:return"Fragment";case jr:return"Portal";case Ni:return"Profiler";case Fa:return"StrictMode";case Ci:return"Suspense";case Ei:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Cu:return(t.displayName||"Context")+".Consumer";case Nu:return(t._context.displayName||"Context")+".Provider";case Da:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ma:return e=t.displayName||null,e!==null?e:Pi(t.type)||"Memo";case jt:e=t._payload,t=t._init;try{return Pi(t(e))}catch{}}return null}function Lf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pi(e);case 8:return e===Fa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Uf(t){var e=Pu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hs(t){t._valueTracker||(t._valueTracker=Uf(t))}function Tu(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Pu(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Hs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ti(t,e){var r=e.checked;return X({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Dl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Mt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $u(t,e){e=e.checked,e!=null&&Ua(t,"checked",e,!1)}function $i(t,e){$u(t,e);var r=Mt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ri(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ri(t,e.type,Mt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ml(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ri(t,e,r){(e!=="number"||Hs(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var vn=Array.isArray;function Ur(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ai(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return X({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(S(92));if(vn(r)){if(1<r.length)throw Error(S(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Mt(r)}}function Ru(t,e){var r=Mt(e.value),n=Mt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Bl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Au(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oi(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Au(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fs,Ou=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fs=fs||document.createElement("div"),fs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function On(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ff=["Webkit","ms","Moz","O"];Object.keys(kn).forEach(function(t){Ff.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kn[e]=kn[t]})});function Iu(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kn.hasOwnProperty(t)&&kn[t]?(""+e).trim():e+"px"}function Lu(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Iu(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Df=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ii(t,e){if(e){if(Df[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function Li(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ui=null;function za(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Fr=null,Dr=null;function ql(t){if(t=rs(t)){if(typeof Fi!="function")throw Error(S(280));var e=t.stateNode;e&&(e=So(e),Fi(t.stateNode,t.type,e))}}function Uu(t){Fr?Dr?Dr.push(t):Dr=[t]:Fr=t}function Fu(){if(Fr){var t=Fr,e=Dr;if(Dr=Fr=null,ql(t),e)for(t=0;t<e.length;t++)ql(e[t])}}function Du(t,e){return t(e)}function Mu(){}var Qo=!1;function zu(t,e,r){if(Qo)return t(e,r);Qo=!0;try{return Du(t,e,r)}finally{Qo=!1,(Fr!==null||Dr!==null)&&(Mu(),Fu())}}function In(t,e){var r=t.stateNode;if(r===null)return null;var n=So(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(S(231,e,typeof r));return r}var Di=!1;if(mt)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){Di=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{Di=!1}function Mf(t,e,r,n,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var _n=!1,Ws=null,Vs=!1,Mi=null,zf={onError:function(t){_n=!0,Ws=t}};function Bf(t,e,r,n,s,o,i,l,c){_n=!1,Ws=null,Mf.apply(zf,arguments)}function qf(t,e,r,n,s,o,i,l,c){if(Bf.apply(this,arguments),_n){if(_n){var u=Ws;_n=!1,Ws=null}else throw Error(S(198));Vs||(Vs=!0,Mi=u)}}function pr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Bu(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Hl(t){if(pr(t)!==t)throw Error(S(188))}function Hf(t){var e=t.alternate;if(!e){if(e=pr(t),e===null)throw Error(S(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Hl(s),t;if(o===n)return Hl(s),e;o=o.sibling}throw Error(S(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=o;break}if(l===n){i=!0,n=s,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=s;break}if(l===n){i=!0,n=o,r=s;break}l=l.sibling}if(!i)throw Error(S(189))}}if(r.alternate!==n)throw Error(S(190))}if(r.tag!==3)throw Error(S(188));return r.stateNode.current===r?t:e}function qu(t){return t=Hf(t),t!==null?Hu(t):null}function Hu(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Hu(t);if(e!==null)return e;t=t.sibling}return null}var Wu=Re.unstable_scheduleCallback,Wl=Re.unstable_cancelCallback,Wf=Re.unstable_shouldYield,Vf=Re.unstable_requestPaint,ee=Re.unstable_now,Kf=Re.unstable_getCurrentPriorityLevel,Ba=Re.unstable_ImmediatePriority,Vu=Re.unstable_UserBlockingPriority,Ks=Re.unstable_NormalPriority,Gf=Re.unstable_LowPriority,Ku=Re.unstable_IdlePriority,wo=null,nt=null;function Qf(t){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(wo,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:Xf,Jf=Math.log,Yf=Math.LN2;function Xf(t){return t>>>=0,t===0?32:31-(Jf(t)/Yf|0)|0}var ps=64,ms=4194304;function xn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gs(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=xn(l):(o&=i,o!==0&&(n=xn(o)))}else i=r&~s,i!==0?n=xn(i):o!==0&&(n=xn(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Qe(e),s=1<<r,n|=t[r],e&=~s;return n}function Zf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ep(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-Qe(o),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=Zf(l,e)):c<=e&&(t.expiredLanes|=l),o&=~l}}function zi(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Gu(){var t=ps;return ps<<=1,!(ps&4194240)&&(ps=64),t}function Jo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function es(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qe(e),t[e]=r}function tp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Qe(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function qa(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Qe(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var z=0;function Qu(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ju,Ha,Yu,Xu,Zu,Bi=!1,ys=[],Rt=null,At=null,Ot=null,Ln=new Map,Un=new Map,Ct=[],rp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(t,e){switch(t){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Ln.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Un.delete(e.pointerId)}}function un(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=rs(e),e!==null&&Ha(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function np(t,e,r,n,s){switch(e){case"focusin":return Rt=un(Rt,t,e,r,n,s),!0;case"dragenter":return At=un(At,t,e,r,n,s),!0;case"mouseover":return Ot=un(Ot,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Ln.set(o,un(Ln.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Un.set(o,un(Un.get(o)||null,t,e,r,n,s)),!0}return!1}function ed(t){var e=tr(t.target);if(e!==null){var r=pr(e);if(r!==null){if(e=r.tag,e===13){if(e=Bu(r),e!==null){t.blockedOn=e,Zu(t.priority,function(){Yu(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function As(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=qi(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ui=n,r.target.dispatchEvent(n),Ui=null}else return e=rs(r),e!==null&&Ha(e),t.blockedOn=r,!1;e.shift()}return!0}function Kl(t,e,r){As(t)&&r.delete(e)}function sp(){Bi=!1,Rt!==null&&As(Rt)&&(Rt=null),At!==null&&As(At)&&(At=null),Ot!==null&&As(Ot)&&(Ot=null),Ln.forEach(Kl),Un.forEach(Kl)}function dn(t,e){t.blockedOn===e&&(t.blockedOn=null,Bi||(Bi=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,sp)))}function Fn(t){function e(s){return dn(s,t)}if(0<ys.length){dn(ys[0],t);for(var r=1;r<ys.length;r++){var n=ys[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Rt!==null&&dn(Rt,t),At!==null&&dn(At,t),Ot!==null&&dn(Ot,t),Ln.forEach(e),Un.forEach(e),r=0;r<Ct.length;r++)n=Ct[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ct.length&&(r=Ct[0],r.blockedOn===null);)ed(r),r.blockedOn===null&&Ct.shift()}var Mr=xt.ReactCurrentBatchConfig,Qs=!0;function op(t,e,r,n){var s=z,o=Mr.transition;Mr.transition=null;try{z=1,Wa(t,e,r,n)}finally{z=s,Mr.transition=o}}function ip(t,e,r,n){var s=z,o=Mr.transition;Mr.transition=null;try{z=4,Wa(t,e,r,n)}finally{z=s,Mr.transition=o}}function Wa(t,e,r,n){if(Qs){var s=qi(t,e,r,n);if(s===null)ii(t,e,n,Js,r),Vl(t,n);else if(np(s,t,e,r,n))n.stopPropagation();else if(Vl(t,n),e&4&&-1<rp.indexOf(t)){for(;s!==null;){var o=rs(s);if(o!==null&&Ju(o),o=qi(t,e,r,n),o===null&&ii(t,e,n,Js,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else ii(t,e,n,null,r)}}var Js=null;function qi(t,e,r,n){if(Js=null,t=za(n),t=tr(t),t!==null)if(e=pr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Bu(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Js=t,null}function td(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kf()){case Ba:return 1;case Vu:return 4;case Ks:case Gf:return 16;case Ku:return 536870912;default:return 16}default:return 16}}var Tt=null,Va=null,Os=null;function rd(){if(Os)return Os;var t,e=Va,r=e.length,n,s="value"in Tt?Tt.value:Tt.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===s[o-n];n++);return Os=s.slice(t,1<n?1-n:void 0)}function Is(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function gs(){return!0}function Gl(){return!1}function Oe(t){function e(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?gs:Gl,this.isPropagationStopped=Gl,this}return X(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gs)},persist:function(){},isPersistent:gs}),e}var en={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=Oe(en),ts=X({},en,{view:0,detail:0}),ap=Oe(ts),Yo,Xo,hn,bo=X({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hn&&(hn&&t.type==="mousemove"?(Yo=t.screenX-hn.screenX,Xo=t.screenY-hn.screenY):Xo=Yo=0,hn=t),Yo)},movementY:function(t){return"movementY"in t?t.movementY:Xo}}),Ql=Oe(bo),lp=X({},bo,{dataTransfer:0}),cp=Oe(lp),up=X({},ts,{relatedTarget:0}),Zo=Oe(up),dp=X({},en,{animationName:0,elapsedTime:0,pseudoElement:0}),hp=Oe(dp),fp=X({},en,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pp=Oe(fp),mp=X({},en,{data:0}),Jl=Oe(mp),yp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vp[t])?!!e[t]:!1}function Ga(){return xp}var wp=X({},ts,{key:function(t){if(t.key){var e=yp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bp=Oe(wp),kp=X({},bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yl=Oe(kp),_p=X({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Sp=Oe(_p),jp=X({},en,{propertyName:0,elapsedTime:0,pseudoElement:0}),Np=Oe(jp),Cp=X({},bo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ep=Oe(Cp),Pp=[9,13,27,32],Qa=mt&&"CompositionEvent"in window,Sn=null;mt&&"documentMode"in document&&(Sn=document.documentMode);var Tp=mt&&"TextEvent"in window&&!Sn,nd=mt&&(!Qa||Sn&&8<Sn&&11>=Sn),Xl=" ",Zl=!1;function sd(t,e){switch(t){case"keyup":return Pp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function od(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cr=!1;function $p(t,e){switch(t){case"compositionend":return od(e);case"keypress":return e.which!==32?null:(Zl=!0,Xl);case"textInput":return t=e.data,t===Xl&&Zl?null:t;default:return null}}function Rp(t,e){if(Cr)return t==="compositionend"||!Qa&&sd(t,e)?(t=rd(),Os=Va=Tt=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nd&&e.locale!=="ko"?null:e.data;default:return null}}var Ap={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ap[t.type]:e==="textarea"}function id(t,e,r,n){Uu(n),e=Ys(e,"onChange"),0<e.length&&(r=new Ka("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var jn=null,Dn=null;function Op(t){gd(t,0)}function ko(t){var e=Tr(t);if(Tu(e))return t}function Ip(t,e){if(t==="change")return e}var ad=!1;if(mt){var ei;if(mt){var ti="oninput"in document;if(!ti){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),ti=typeof tc.oninput=="function"}ei=ti}else ei=!1;ad=ei&&(!document.documentMode||9<document.documentMode)}function rc(){jn&&(jn.detachEvent("onpropertychange",ld),Dn=jn=null)}function ld(t){if(t.propertyName==="value"&&ko(Dn)){var e=[];id(e,Dn,t,za(t)),zu(Op,e)}}function Lp(t,e,r){t==="focusin"?(rc(),jn=e,Dn=r,jn.attachEvent("onpropertychange",ld)):t==="focusout"&&rc()}function Up(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ko(Dn)}function Fp(t,e){if(t==="click")return ko(e)}function Dp(t,e){if(t==="input"||t==="change")return ko(e)}function Mp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:Mp;function Mn(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ji.call(e,s)||!Ye(t[s],e[s]))return!1}return!0}function nc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sc(t,e){var r=nc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nc(r)}}function cd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ud(){for(var t=window,e=Hs();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Hs(t.document)}return e}function Ja(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zp(t){var e=ud(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&cd(r.ownerDocument.documentElement,r)){if(n!==null&&Ja(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=sc(r,o);var i=sc(r,n);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Bp=mt&&"documentMode"in document&&11>=document.documentMode,Er=null,Hi=null,Nn=null,Wi=!1;function oc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wi||Er==null||Er!==Hs(n)||(n=Er,"selectionStart"in n&&Ja(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nn&&Mn(Nn,n)||(Nn=n,n=Ys(Hi,"onSelect"),0<n.length&&(e=new Ka("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Er)))}function vs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Pr={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},ri={},dd={};mt&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function _o(t){if(ri[t])return ri[t];if(!Pr[t])return t;var e=Pr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dd)return ri[t]=e[r];return t}var hd=_o("animationend"),fd=_o("animationiteration"),pd=_o("animationstart"),md=_o("transitionend"),yd=new Map,ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(t,e){yd.set(t,e),fr(e,[t])}for(var ni=0;ni<ic.length;ni++){var si=ic[ni],qp=si.toLowerCase(),Hp=si[0].toUpperCase()+si.slice(1);Bt(qp,"on"+Hp)}Bt(hd,"onAnimationEnd");Bt(fd,"onAnimationIteration");Bt(pd,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(md,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wp=new Set("cancel close invalid load scroll toggle".split(" ").concat(wn));function ac(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,qf(n,e,void 0,t),t.currentTarget=null}function gd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;ac(s,l,u),o=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;ac(s,l,u),o=c}}}if(Vs)throw t=Mi,Vs=!1,Mi=null,t}function W(t,e){var r=e[Ji];r===void 0&&(r=e[Ji]=new Set);var n=t+"__bubble";r.has(n)||(vd(e,t,2,!1),r.add(n))}function oi(t,e,r){var n=0;e&&(n|=4),vd(r,t,n,e)}var xs="_reactListening"+Math.random().toString(36).slice(2);function zn(t){if(!t[xs]){t[xs]=!0,ju.forEach(function(r){r!=="selectionchange"&&(Wp.has(r)||oi(r,!1,t),oi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xs]||(e[xs]=!0,oi("selectionchange",!1,e))}}function vd(t,e,r,n){switch(td(e)){case 1:var s=op;break;case 4:s=ip;break;default:s=Wa}r=s.bind(null,e,r,t),s=void 0,!Di||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function ii(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=tr(l),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}l=l.parentNode}}n=n.return}zu(function(){var u=o,d=za(r),f=[];e:{var h=yd.get(t);if(h!==void 0){var g=Ka,v=t;switch(t){case"keypress":if(Is(r)===0)break e;case"keydown":case"keyup":g=bp;break;case"focusin":v="focus",g=Zo;break;case"focusout":v="blur",g=Zo;break;case"beforeblur":case"afterblur":g=Zo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Sp;break;case hd:case fd:case pd:g=hp;break;case md:g=Np;break;case"scroll":g=ap;break;case"wheel":g=Ep;break;case"copy":case"cut":case"paste":g=pp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Yl}var x=(e&4)!==0,_=!x&&t==="scroll",m=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,y;p!==null;){y=p;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,m!==null&&(w=In(p,m),w!=null&&x.push(Bn(p,w,y)))),_)break;p=p.return}0<x.length&&(h=new g(h,v,null,r,d),f.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&r!==Ui&&(v=r.relatedTarget||r.fromElement)&&(tr(v)||v[yt]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?tr(v):null,v!==null&&(_=pr(v),v!==_||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=Ql,w="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=Yl,w="onPointerLeave",m="onPointerEnter",p="pointer"),_=g==null?h:Tr(g),y=v==null?h:Tr(v),h=new x(w,p+"leave",g,r,d),h.target=_,h.relatedTarget=y,w=null,tr(d)===u&&(x=new x(m,p+"enter",v,r,d),x.target=y,x.relatedTarget=_,w=x),_=w,g&&v)t:{for(x=g,m=v,p=0,y=x;y;y=gr(y))p++;for(y=0,w=m;w;w=gr(w))y++;for(;0<p-y;)x=gr(x),p--;for(;0<y-p;)m=gr(m),y--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=gr(x),m=gr(m)}x=null}else x=null;g!==null&&lc(f,h,g,x,!1),v!==null&&_!==null&&lc(f,_,v,x,!0)}}e:{if(h=u?Tr(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var b=Ip;else if(ec(h))if(ad)b=Dp;else{b=Up;var j=Lp}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=Fp);if(b&&(b=b(t,u))){id(f,b,r,d);break e}j&&j(t,h,u),t==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&Ri(h,"number",h.value)}switch(j=u?Tr(u):window,t){case"focusin":(ec(j)||j.contentEditable==="true")&&(Er=j,Hi=u,Nn=null);break;case"focusout":Nn=Hi=Er=null;break;case"mousedown":Wi=!0;break;case"contextmenu":case"mouseup":case"dragend":Wi=!1,oc(f,r,d);break;case"selectionchange":if(Bp)break;case"keydown":case"keyup":oc(f,r,d)}var N;if(Qa)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Cr?sd(t,r)&&(T="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(nd&&r.locale!=="ko"&&(Cr||T!=="onCompositionStart"?T==="onCompositionEnd"&&Cr&&(N=rd()):(Tt=d,Va="value"in Tt?Tt.value:Tt.textContent,Cr=!0)),j=Ys(u,T),0<j.length&&(T=new Jl(T,t,null,r,d),f.push({event:T,listeners:j}),N?T.data=N:(N=od(r),N!==null&&(T.data=N)))),(N=Tp?$p(t,r):Rp(t,r))&&(u=Ys(u,"onBeforeInput"),0<u.length&&(d=new Jl("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}gd(f,e)})}function Bn(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ys(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=In(t,r),o!=null&&n.unshift(Bn(t,o,s)),o=In(t,e),o!=null&&n.push(Bn(t,o,s))),t=t.return}return n}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lc(t,e,r,n,s){for(var o=e._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=In(r,o),c!=null&&i.unshift(Bn(r,c,l))):s||(c=In(r,o),c!=null&&i.push(Bn(r,c,l)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var Vp=/\r\n?/g,Kp=/\u0000|\uFFFD/g;function cc(t){return(typeof t=="string"?t:""+t).replace(Vp,`
`).replace(Kp,"")}function ws(t,e,r){if(e=cc(e),cc(t)!==e&&r)throw Error(S(425))}function Xs(){}var Vi=null,Ki=null;function Gi(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qi=typeof setTimeout=="function"?setTimeout:void 0,Gp=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,Qp=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(t){return uc.resolve(null).then(t).catch(Jp)}:Qi;function Jp(t){setTimeout(function(){throw t})}function ai(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Fn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Fn(e)}function It(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var tn=Math.random().toString(36).slice(2),rt="__reactFiber$"+tn,qn="__reactProps$"+tn,yt="__reactContainer$"+tn,Ji="__reactEvents$"+tn,Yp="__reactListeners$"+tn,Xp="__reactHandles$"+tn;function tr(t){var e=t[rt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yt]||r[rt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=dc(t);t!==null;){if(r=t[rt])return r;t=dc(t)}return e}t=r,r=t.parentNode}return null}function rs(t){return t=t[rt]||t[yt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function So(t){return t[qn]||null}var Yi=[],$r=-1;function qt(t){return{current:t}}function V(t){0>$r||(t.current=Yi[$r],Yi[$r]=null,$r--)}function H(t,e){$r++,Yi[$r]=t.current,t.current=e}var zt={},ye=qt(zt),Ne=qt(!1),ir=zt;function Wr(t,e){var r=t.type.contextTypes;if(!r)return zt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ce(t){return t=t.childContextTypes,t!=null}function Zs(){V(Ne),V(ye)}function hc(t,e,r){if(ye.current!==zt)throw Error(S(168));H(ye,e),H(Ne,r)}function xd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(S(108,Lf(t)||"Unknown",s));return X({},r,n)}function eo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zt,ir=ye.current,H(ye,t),H(Ne,Ne.current),!0}function fc(t,e,r){var n=t.stateNode;if(!n)throw Error(S(169));r?(t=xd(t,e,ir),n.__reactInternalMemoizedMergedChildContext=t,V(Ne),V(ye),H(ye,t)):V(Ne),H(Ne,r)}var dt=null,jo=!1,li=!1;function wd(t){dt===null?dt=[t]:dt.push(t)}function Zp(t){jo=!0,wd(t)}function Ht(){if(!li&&dt!==null){li=!0;var t=0,e=z;try{var r=dt;for(z=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}dt=null,jo=!1}catch(s){throw dt!==null&&(dt=dt.slice(t+1)),Wu(Ba,Ht),s}finally{z=e,li=!1}}return null}var Rr=[],Ar=0,to=null,ro=0,Ie=[],Le=0,ar=null,ht=1,ft="";function Jt(t,e){Rr[Ar++]=ro,Rr[Ar++]=to,to=t,ro=e}function bd(t,e,r){Ie[Le++]=ht,Ie[Le++]=ft,Ie[Le++]=ar,ar=t;var n=ht;t=ft;var s=32-Qe(n)-1;n&=~(1<<s),r+=1;var o=32-Qe(e)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,ht=1<<32-Qe(e)+s|r<<s|n,ft=o+t}else ht=1<<o|r<<s|n,ft=t}function Ya(t){t.return!==null&&(Jt(t,1),bd(t,1,0))}function Xa(t){for(;t===to;)to=Rr[--Ar],Rr[Ar]=null,ro=Rr[--Ar],Rr[Ar]=null;for(;t===ar;)ar=Ie[--Le],Ie[Le]=null,ft=Ie[--Le],Ie[Le]=null,ht=Ie[--Le],Ie[Le]=null}var $e=null,Te=null,G=!1,Ge=null;function kd(t,e){var r=Ue(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function pc(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$e=t,Te=It(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$e=t,Te=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ar!==null?{id:ht,overflow:ft}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ue(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,$e=t,Te=null,!0):!1;default:return!1}}function Xi(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zi(t){if(G){var e=Te;if(e){var r=e;if(!pc(t,e)){if(Xi(t))throw Error(S(418));e=It(r.nextSibling);var n=$e;e&&pc(t,e)?kd(n,r):(t.flags=t.flags&-4097|2,G=!1,$e=t)}}else{if(Xi(t))throw Error(S(418));t.flags=t.flags&-4097|2,G=!1,$e=t}}}function mc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$e=t}function bs(t){if(t!==$e)return!1;if(!G)return mc(t),G=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gi(t.type,t.memoizedProps)),e&&(e=Te)){if(Xi(t))throw _d(),Error(S(418));for(;e;)kd(t,e),e=It(e.nextSibling)}if(mc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Te=It(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Te=null}}else Te=$e?It(t.stateNode.nextSibling):null;return!0}function _d(){for(var t=Te;t;)t=It(t.nextSibling)}function Vr(){Te=$e=null,G=!1}function Za(t){Ge===null?Ge=[t]:Ge.push(t)}var em=xt.ReactCurrentBatchConfig;function fn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(S(309));var n=r.stateNode}if(!n)throw Error(S(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(S(284));if(!r._owner)throw Error(S(290,t))}return t}function ks(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yc(t){var e=t._init;return e(t._payload)}function Sd(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Dt(m,p),m.index=0,m.sibling=null,m}function o(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function i(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,p,y,w){return p===null||p.tag!==6?(p=mi(y,m.mode,w),p.return=m,p):(p=s(p,y),p.return=m,p)}function c(m,p,y,w){var b=y.type;return b===Nr?d(m,p,y.props.children,w,y.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jt&&yc(b)===p.type)?(w=s(p,y.props),w.ref=fn(m,p,y),w.return=m,w):(w=Bs(y.type,y.key,y.props,null,m.mode,w),w.ref=fn(m,p,y),w.return=m,w)}function u(m,p,y,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=yi(y,m.mode,w),p.return=m,p):(p=s(p,y.children||[]),p.return=m,p)}function d(m,p,y,w,b){return p===null||p.tag!==7?(p=or(y,m.mode,w,b),p.return=m,p):(p=s(p,y),p.return=m,p)}function f(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=mi(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ds:return y=Bs(p.type,p.key,p.props,null,m.mode,y),y.ref=fn(m,null,p),y.return=m,y;case jr:return p=yi(p,m.mode,y),p.return=m,p;case jt:var w=p._init;return f(m,w(p._payload),y)}if(vn(p)||ln(p))return p=or(p,m.mode,y,null),p.return=m,p;ks(m,p)}return null}function h(m,p,y,w){var b=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:l(m,p,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ds:return y.key===b?c(m,p,y,w):null;case jr:return y.key===b?u(m,p,y,w):null;case jt:return b=y._init,h(m,p,b(y._payload),w)}if(vn(y)||ln(y))return b!==null?null:d(m,p,y,w,null);ks(m,y)}return null}function g(m,p,y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(y)||null,l(p,m,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ds:return m=m.get(w.key===null?y:w.key)||null,c(p,m,w,b);case jr:return m=m.get(w.key===null?y:w.key)||null,u(p,m,w,b);case jt:var j=w._init;return g(m,p,y,j(w._payload),b)}if(vn(w)||ln(w))return m=m.get(y)||null,d(p,m,w,b,null);ks(p,w)}return null}function v(m,p,y,w){for(var b=null,j=null,N=p,T=p=0,K=null;N!==null&&T<y.length;T++){N.index>T?(K=N,N=null):K=N.sibling;var I=h(m,N,y[T],w);if(I===null){N===null&&(N=K);break}t&&N&&I.alternate===null&&e(m,N),p=o(I,p,T),j===null?b=I:j.sibling=I,j=I,N=K}if(T===y.length)return r(m,N),G&&Jt(m,T),b;if(N===null){for(;T<y.length;T++)N=f(m,y[T],w),N!==null&&(p=o(N,p,T),j===null?b=N:j.sibling=N,j=N);return G&&Jt(m,T),b}for(N=n(m,N);T<y.length;T++)K=g(N,m,T,y[T],w),K!==null&&(t&&K.alternate!==null&&N.delete(K.key===null?T:K.key),p=o(K,p,T),j===null?b=K:j.sibling=K,j=K);return t&&N.forEach(function(be){return e(m,be)}),G&&Jt(m,T),b}function x(m,p,y,w){var b=ln(y);if(typeof b!="function")throw Error(S(150));if(y=b.call(y),y==null)throw Error(S(151));for(var j=b=null,N=p,T=p=0,K=null,I=y.next();N!==null&&!I.done;T++,I=y.next()){N.index>T?(K=N,N=null):K=N.sibling;var be=h(m,N,I.value,w);if(be===null){N===null&&(N=K);break}t&&N&&be.alternate===null&&e(m,N),p=o(be,p,T),j===null?b=be:j.sibling=be,j=be,N=K}if(I.done)return r(m,N),G&&Jt(m,T),b;if(N===null){for(;!I.done;T++,I=y.next())I=f(m,I.value,w),I!==null&&(p=o(I,p,T),j===null?b=I:j.sibling=I,j=I);return G&&Jt(m,T),b}for(N=n(m,N);!I.done;T++,I=y.next())I=g(N,m,T,I.value,w),I!==null&&(t&&I.alternate!==null&&N.delete(I.key===null?T:I.key),p=o(I,p,T),j===null?b=I:j.sibling=I,j=I);return t&&N.forEach(function(wt){return e(m,wt)}),G&&Jt(m,T),b}function _(m,p,y,w){if(typeof y=="object"&&y!==null&&y.type===Nr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ds:e:{for(var b=y.key,j=p;j!==null;){if(j.key===b){if(b=y.type,b===Nr){if(j.tag===7){r(m,j.sibling),p=s(j,y.props.children),p.return=m,m=p;break e}}else if(j.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===jt&&yc(b)===j.type){r(m,j.sibling),p=s(j,y.props),p.ref=fn(m,j,y),p.return=m,m=p;break e}r(m,j);break}else e(m,j);j=j.sibling}y.type===Nr?(p=or(y.props.children,m.mode,w,y.key),p.return=m,m=p):(w=Bs(y.type,y.key,y.props,null,m.mode,w),w.ref=fn(m,p,y),w.return=m,m=w)}return i(m);case jr:e:{for(j=y.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(m,p.sibling),p=s(p,y.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=yi(y,m.mode,w),p.return=m,m=p}return i(m);case jt:return j=y._init,_(m,p,j(y._payload),w)}if(vn(y))return v(m,p,y,w);if(ln(y))return x(m,p,y,w);ks(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,y),p.return=m,m=p):(r(m,p),p=mi(y,m.mode,w),p.return=m,m=p),i(m)):r(m,p)}return _}var Kr=Sd(!0),jd=Sd(!1),no=qt(null),so=null,Or=null,el=null;function tl(){el=Or=so=null}function rl(t){var e=no.current;V(no),t._currentValue=e}function ea(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function zr(t,e){so=t,el=Or=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if(el!==t)if(t={context:t,memoizedValue:e,next:null},Or===null){if(so===null)throw Error(S(308));Or=t,so.dependencies={lanes:0,firstContext:t}}else Or=Or.next=t;return e}var rr=null;function nl(t){rr===null?rr=[t]:rr.push(t)}function Nd(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,nl(e)):(r.next=s.next,s.next=r),e.interleaved=r,gt(t,n)}function gt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Nt=!1;function sl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,gt(t,r)}return s=n.interleaved,s===null?(e.next=e,nl(n)):(e.next=s.next,s.next=e),n.interleaved=e,gt(t,r)}function Ls(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qa(t,r)}}function gc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function oo(t,e,r,n){var s=t.updateQueue;Nt=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var h=l.lane,g=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(h=e,g=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=X({},f,h);break e;case 2:Nt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else g={eventTime:g,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=f):d=d.next=g,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);cr|=i,t.lanes=i,t.memoizedState=f}}function vc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(S(191,s));s.call(n)}}}var ns={},st=qt(ns),Hn=qt(ns),Wn=qt(ns);function nr(t){if(t===ns)throw Error(S(174));return t}function ol(t,e){switch(H(Wn,e),H(Hn,t),H(st,ns),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oi(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oi(e,t)}V(st),H(st,e)}function Gr(){V(st),V(Hn),V(Wn)}function Ed(t){nr(Wn.current);var e=nr(st.current),r=Oi(e,t.type);e!==r&&(H(Hn,t),H(st,r))}function il(t){Hn.current===t&&(V(st),V(Hn))}var J=qt(0);function io(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ci=[];function al(){for(var t=0;t<ci.length;t++)ci[t]._workInProgressVersionPrimary=null;ci.length=0}var Us=xt.ReactCurrentDispatcher,ui=xt.ReactCurrentBatchConfig,lr=0,Y=null,ne=null,ie=null,ao=!1,Cn=!1,Vn=0,tm=0;function he(){throw Error(S(321))}function ll(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ye(t[r],e[r]))return!1;return!0}function cl(t,e,r,n,s,o){if(lr=o,Y=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Us.current=t===null||t.memoizedState===null?om:im,t=r(n,s),Cn){o=0;do{if(Cn=!1,Vn=0,25<=o)throw Error(S(301));o+=1,ie=ne=null,e.updateQueue=null,Us.current=am,t=r(n,s)}while(Cn)}if(Us.current=lo,e=ne!==null&&ne.next!==null,lr=0,ie=ne=Y=null,ao=!1,e)throw Error(S(300));return t}function ul(){var t=Vn!==0;return Vn=0,t}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?Y.memoizedState=ie=t:ie=ie.next=t,ie}function ze(){if(ne===null){var t=Y.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ie===null?Y.memoizedState:ie.next;if(e!==null)ie=e,ne=t;else{if(t===null)throw Error(S(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ie===null?Y.memoizedState=ie=t:ie=ie.next=t}return ie}function Kn(t,e){return typeof e=="function"?e(t):e}function di(t){var e=ze(),r=e.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=t;var n=ne,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((lr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Y.lanes|=d,cr|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=l,Ye(n,e.memoizedState)||(je=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Y.lanes|=o,cr|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function hi(t){var e=ze(),r=e.queue;if(r===null)throw Error(S(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);Ye(o,e.memoizedState)||(je=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Pd(){}function Td(t,e){var r=Y,n=ze(),s=e(),o=!Ye(n.memoizedState,s);if(o&&(n.memoizedState=s,je=!0),n=n.queue,dl(Ad.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||ie!==null&&ie.memoizedState.tag&1){if(r.flags|=2048,Gn(9,Rd.bind(null,r,n,s,e),void 0,null),ae===null)throw Error(S(349));lr&30||$d(r,e,s)}return s}function $d(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Rd(t,e,r,n){e.value=r,e.getSnapshot=n,Od(e)&&Id(t)}function Ad(t,e,r){return r(function(){Od(e)&&Id(t)})}function Od(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ye(t,r)}catch{return!0}}function Id(t){var e=gt(t,1);e!==null&&Je(e,t,1,-1)}function xc(t){var e=tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kn,lastRenderedState:t},e.queue=t,t=t.dispatch=sm.bind(null,Y,t),[e.memoizedState,t]}function Gn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Y.updateQueue,e===null?(e={lastEffect:null,stores:null},Y.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Ld(){return ze().memoizedState}function Fs(t,e,r,n){var s=tt();Y.flags|=t,s.memoizedState=Gn(1|e,r,void 0,n===void 0?null:n)}function No(t,e,r,n){var s=ze();n=n===void 0?null:n;var o=void 0;if(ne!==null){var i=ne.memoizedState;if(o=i.destroy,n!==null&&ll(n,i.deps)){s.memoizedState=Gn(e,r,o,n);return}}Y.flags|=t,s.memoizedState=Gn(1|e,r,o,n)}function wc(t,e){return Fs(8390656,8,t,e)}function dl(t,e){return No(2048,8,t,e)}function Ud(t,e){return No(4,2,t,e)}function Fd(t,e){return No(4,4,t,e)}function Dd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Md(t,e,r){return r=r!=null?r.concat([t]):null,No(4,4,Dd.bind(null,e,t),r)}function hl(){}function zd(t,e){var r=ze();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ll(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Bd(t,e){var r=ze();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ll(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function qd(t,e,r){return lr&21?(Ye(r,e)||(r=Gu(),Y.lanes|=r,cr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=r)}function rm(t,e){var r=z;z=r!==0&&4>r?r:4,t(!0);var n=ui.transition;ui.transition={};try{t(!1),e()}finally{z=r,ui.transition=n}}function Hd(){return ze().memoizedState}function nm(t,e,r){var n=Ft(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wd(t))Vd(e,r);else if(r=Nd(t,e,r,n),r!==null){var s=ve();Je(r,t,n,s),Kd(r,e,n)}}function sm(t,e,r){var n=Ft(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wd(t))Vd(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,l=o(i,r);if(s.hasEagerState=!0,s.eagerState=l,Ye(l,i)){var c=e.interleaved;c===null?(s.next=s,nl(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Nd(t,e,s,n),r!==null&&(s=ve(),Je(r,t,n,s),Kd(r,e,n))}}function Wd(t){var e=t.alternate;return t===Y||e!==null&&e===Y}function Vd(t,e){Cn=ao=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Kd(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,qa(t,r)}}var lo={readContext:Me,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useInsertionEffect:he,useLayoutEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useMutableSource:he,useSyncExternalStore:he,useId:he,unstable_isNewReconciler:!1},om={readContext:Me,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:wc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Fs(4194308,4,Dd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Fs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fs(4,2,t,e)},useMemo:function(t,e){var r=tt();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=tt();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=nm.bind(null,Y,t),[n.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:xc,useDebugValue:hl,useDeferredValue:function(t){return tt().memoizedState=t},useTransition:function(){var t=xc(!1),e=t[0];return t=rm.bind(null,t[1]),tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Y,s=tt();if(G){if(r===void 0)throw Error(S(407));r=r()}else{if(r=e(),ae===null)throw Error(S(349));lr&30||$d(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,wc(Ad.bind(null,n,o,t),[t]),n.flags|=2048,Gn(9,Rd.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=tt(),e=ae.identifierPrefix;if(G){var r=ft,n=ht;r=(n&~(1<<32-Qe(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Vn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=tm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},im={readContext:Me,useCallback:zd,useContext:Me,useEffect:dl,useImperativeHandle:Md,useInsertionEffect:Ud,useLayoutEffect:Fd,useMemo:Bd,useReducer:di,useRef:Ld,useState:function(){return di(Kn)},useDebugValue:hl,useDeferredValue:function(t){var e=ze();return qd(e,ne.memoizedState,t)},useTransition:function(){var t=di(Kn)[0],e=ze().memoizedState;return[t,e]},useMutableSource:Pd,useSyncExternalStore:Td,useId:Hd,unstable_isNewReconciler:!1},am={readContext:Me,useCallback:zd,useContext:Me,useEffect:dl,useImperativeHandle:Md,useInsertionEffect:Ud,useLayoutEffect:Fd,useMemo:Bd,useReducer:hi,useRef:Ld,useState:function(){return hi(Kn)},useDebugValue:hl,useDeferredValue:function(t){var e=ze();return ne===null?e.memoizedState=t:qd(e,ne.memoizedState,t)},useTransition:function(){var t=hi(Kn)[0],e=ze().memoizedState;return[t,e]},useMutableSource:Pd,useSyncExternalStore:Td,useId:Hd,unstable_isNewReconciler:!1};function We(t,e){if(t&&t.defaultProps){e=X({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ta(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:X({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Co={isMounted:function(t){return(t=t._reactInternals)?pr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ve(),s=Ft(t),o=pt(n,s);o.payload=e,r!=null&&(o.callback=r),e=Lt(t,o,s),e!==null&&(Je(e,t,s,n),Ls(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ve(),s=Ft(t),o=pt(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Lt(t,o,s),e!==null&&(Je(e,t,s,n),Ls(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ve(),n=Ft(t),s=pt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Lt(t,s,n),e!==null&&(Je(e,t,n,r),Ls(e,t,n))}};function bc(t,e,r,n,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,i):e.prototype&&e.prototype.isPureReactComponent?!Mn(r,n)||!Mn(s,o):!0}function Gd(t,e,r){var n=!1,s=zt,o=e.contextType;return typeof o=="object"&&o!==null?o=Me(o):(s=Ce(e)?ir:ye.current,n=e.contextTypes,o=(n=n!=null)?Wr(t,s):zt),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Co,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function kc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Co.enqueueReplaceState(e,e.state,null)}function ra(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},sl(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Me(o):(o=Ce(e)?ir:ye.current,s.context=Wr(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ta(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Co.enqueueReplaceState(s,s.state,null),oo(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Qr(t,e){try{var r="",n=e;do r+=If(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function fi(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function na(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var lm=typeof WeakMap=="function"?WeakMap:Map;function Qd(t,e,r){r=pt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){uo||(uo=!0,fa=n),na(t,e)},r}function Jd(t,e,r){r=pt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){na(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){na(t,e),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function _c(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new lm;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=km.bind(null,t,e,r),e.then(t,t))}function Sc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pt(-1,1),e.tag=2,Lt(r,e,1))),r.lanes|=1),t)}var cm=xt.ReactCurrentOwner,je=!1;function ge(t,e,r,n){e.child=t===null?jd(e,null,r,n):Kr(e,t.child,r,n)}function Nc(t,e,r,n,s){r=r.render;var o=e.ref;return zr(e,s),n=cl(t,e,r,n,o,s),r=ul(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vt(t,e,s)):(G&&r&&Ya(e),e.flags|=1,ge(t,e,n,s),e.child)}function Cc(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!wl(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Yd(t,e,o,n,s)):(t=Bs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Mn,r(i,n)&&t.ref===e.ref)return vt(t,e,s)}return e.flags|=1,t=Dt(o,n),t.ref=e.ref,t.return=e,e.child=t}function Yd(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(Mn(o,n)&&t.ref===e.ref)if(je=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,vt(t,e,s)}return sa(t,e,r,n,s)}function Xd(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(Lr,Pe),Pe|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,H(Lr,Pe),Pe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,H(Lr,Pe),Pe|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,H(Lr,Pe),Pe|=n;return ge(t,e,s,r),e.child}function Zd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function sa(t,e,r,n,s){var o=Ce(r)?ir:ye.current;return o=Wr(e,o),zr(e,s),r=cl(t,e,r,n,o,s),n=ul(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,vt(t,e,s)):(G&&n&&Ya(e),e.flags|=1,ge(t,e,r,s),e.child)}function Ec(t,e,r,n,s){if(Ce(r)){var o=!0;eo(e)}else o=!1;if(zr(e,s),e.stateNode===null)Ds(t,e),Gd(e,r,n),ra(e,r,n,s),n=!0;else if(t===null){var i=e.stateNode,l=e.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Me(u):(u=Ce(r)?ir:ye.current,u=Wr(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&kc(e,i,n,u),Nt=!1;var h=e.memoizedState;i.state=h,oo(e,n,i,s),c=e.memoizedState,l!==n||h!==c||Ne.current||Nt?(typeof d=="function"&&(ta(e,r,d,n),c=e.memoizedState),(l=Nt||bc(e,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,Cd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:We(e.type,l),i.props=u,f=e.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Me(c):(c=Ce(r)?ir:ye.current,c=Wr(e,c));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&kc(e,i,n,c),Nt=!1,h=e.memoizedState,i.state=h,oo(e,n,i,s);var v=e.memoizedState;l!==f||h!==v||Ne.current||Nt?(typeof g=="function"&&(ta(e,r,g,n),v=e.memoizedState),(u=Nt||bc(e,r,u,n,h,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return oa(t,e,r,n,o,s)}function oa(t,e,r,n,s,o){Zd(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return s&&fc(e,r,!1),vt(t,e,o);n=e.stateNode,cm.current=e;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Kr(e,t.child,null,o),e.child=Kr(e,null,l,o)):ge(t,e,l,o),e.memoizedState=n.state,s&&fc(e,r,!0),e.child}function eh(t){var e=t.stateNode;e.pendingContext?hc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hc(t,e.context,!1),ol(t,e.containerInfo)}function Pc(t,e,r,n,s){return Vr(),Za(s),e.flags|=256,ge(t,e,r,n),e.child}var ia={dehydrated:null,treeContext:null,retryLane:0};function aa(t){return{baseLanes:t,cachePool:null,transitions:null}}function th(t,e,r){var n=e.pendingProps,s=J.current,o=!1,i=(e.flags&128)!==0,l;if((l=i)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),H(J,s&1),t===null)return Zi(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,o?(n=e.mode,o=e.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=To(i,n,0,null),t=or(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=aa(r),e.memoizedState=ia,t):fl(e,i));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return um(t,e,i,n,l,s,r);if(o){o=n.fallback,i=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Dt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Dt(l,o):(o=or(o,i,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,i=t.child.memoizedState,i=i===null?aa(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~r,e.memoizedState=ia,n}return o=t.child,t=o.sibling,n=Dt(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function fl(t,e){return e=To({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _s(t,e,r,n){return n!==null&&Za(n),Kr(e,t.child,null,r),t=fl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function um(t,e,r,n,s,o,i){if(r)return e.flags&256?(e.flags&=-257,n=fi(Error(S(422))),_s(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=To({mode:"visible",children:n.children},s,0,null),o=or(o,s,i,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&Kr(e,t.child,null,i),e.child.memoizedState=aa(i),e.memoizedState=ia,o);if(!(e.mode&1))return _s(t,e,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,o=Error(S(419)),n=fi(o,n,void 0),_s(t,e,i,n)}if(l=(i&t.childLanes)!==0,je||l){if(n=ae,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,gt(t,s),Je(n,t,s,-1))}return xl(),n=fi(Error(S(421))),_s(t,e,i,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=_m.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Te=It(s.nextSibling),$e=e,G=!0,Ge=null,t!==null&&(Ie[Le++]=ht,Ie[Le++]=ft,Ie[Le++]=ar,ht=t.id,ft=t.overflow,ar=e),e=fl(e,n.children),e.flags|=4096,e)}function Tc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ea(t.return,e,r)}function pi(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function rh(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(ge(t,e,n.children,r),n=J.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tc(t,r,e);else if(t.tag===19)Tc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(H(J,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&io(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),pi(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&io(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}pi(e,!0,r,null,o);break;case"together":pi(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ds(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),cr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,r=Dt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Dt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function dm(t,e,r){switch(e.tag){case 3:eh(e),Vr();break;case 5:Ed(e);break;case 1:Ce(e.type)&&eo(e);break;case 4:ol(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;H(no,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(H(J,J.current&1),e.flags|=128,null):r&e.child.childLanes?th(t,e,r):(H(J,J.current&1),t=vt(t,e,r),t!==null?t.sibling:null);H(J,J.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return rh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(J,J.current),n)break;return null;case 22:case 23:return e.lanes=0,Xd(t,e,r)}return vt(t,e,r)}var nh,la,sh,oh;nh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};la=function(){};sh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,nr(st.current);var o=null;switch(r){case"input":s=Ti(t,s),n=Ti(t,n),o=[];break;case"select":s=X({},s,{value:void 0}),n=X({},n,{value:void 0}),o=[];break;case"textarea":s=Ai(t,s),n=Ai(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Xs)}Ii(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(An.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(An.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&W("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};oh=function(t,e,r,n){r!==n&&(e.flags|=4)};function pn(t,e){if(!G)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function hm(t,e,r){var n=e.pendingProps;switch(Xa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(e),null;case 1:return Ce(e.type)&&Zs(),fe(e),null;case 3:return n=e.stateNode,Gr(),V(Ne),V(ye),al(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(bs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ge!==null&&(ya(Ge),Ge=null))),la(t,e),fe(e),null;case 5:il(e);var s=nr(Wn.current);if(r=e.type,t!==null&&e.stateNode!=null)sh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(S(166));return fe(e),null}if(t=nr(st.current),bs(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[rt]=e,n[qn]=o,t=(e.mode&1)!==0,r){case"dialog":W("cancel",n),W("close",n);break;case"iframe":case"object":case"embed":W("load",n);break;case"video":case"audio":for(s=0;s<wn.length;s++)W(wn[s],n);break;case"source":W("error",n);break;case"img":case"image":case"link":W("error",n),W("load",n);break;case"details":W("toggle",n);break;case"input":Dl(n,o),W("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},W("invalid",n);break;case"textarea":zl(n,o),W("invalid",n)}Ii(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?n.textContent!==l&&(o.suppressHydrationWarning!==!0&&ws(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ws(n.textContent,l,t),s=["children",""+l]):An.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&W("scroll",n)}switch(r){case"input":hs(n),Ml(n,o,!0);break;case"textarea":hs(n),Bl(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Xs)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Au(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[rt]=e,t[qn]=n,nh(t,e,!1,!1),e.stateNode=t;e:{switch(i=Li(r,n),r){case"dialog":W("cancel",t),W("close",t),s=n;break;case"iframe":case"object":case"embed":W("load",t),s=n;break;case"video":case"audio":for(s=0;s<wn.length;s++)W(wn[s],t);s=n;break;case"source":W("error",t),s=n;break;case"img":case"image":case"link":W("error",t),W("load",t),s=n;break;case"details":W("toggle",t),s=n;break;case"input":Dl(t,n),s=Ti(t,n),W("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=X({},n,{value:void 0}),W("invalid",t);break;case"textarea":zl(t,n),s=Ai(t,n),W("invalid",t);break;default:s=n}Ii(r,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Lu(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ou(t,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&On(t,c):typeof c=="number"&&On(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(An.hasOwnProperty(o)?c!=null&&o==="onScroll"&&W("scroll",t):c!=null&&Ua(t,o,c,i))}switch(r){case"input":hs(t),Ml(t,n,!1);break;case"textarea":hs(t),Bl(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mt(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Ur(t,!!n.multiple,o,!1):n.defaultValue!=null&&Ur(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Xs)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fe(e),null;case 6:if(t&&e.stateNode!=null)oh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(S(166));if(r=nr(Wn.current),nr(st.current),bs(e)){if(n=e.stateNode,r=e.memoizedProps,n[rt]=e,(o=n.nodeValue!==r)&&(t=$e,t!==null))switch(t.tag){case 3:ws(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ws(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rt]=e,e.stateNode=n}return fe(e),null;case 13:if(V(J),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(G&&Te!==null&&e.mode&1&&!(e.flags&128))_d(),Vr(),e.flags|=98560,o=!1;else if(o=bs(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(S(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(S(317));o[rt]=e}else Vr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fe(e),o=!1}else Ge!==null&&(ya(Ge),Ge=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||J.current&1?se===0&&(se=3):xl())),e.updateQueue!==null&&(e.flags|=4),fe(e),null);case 4:return Gr(),la(t,e),t===null&&zn(e.stateNode.containerInfo),fe(e),null;case 10:return rl(e.type._context),fe(e),null;case 17:return Ce(e.type)&&Zs(),fe(e),null;case 19:if(V(J),o=e.memoizedState,o===null)return fe(e),null;if(n=(e.flags&128)!==0,i=o.rendering,i===null)if(n)pn(o,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=io(t),i!==null){for(e.flags|=128,pn(o,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return H(J,J.current&1|2),e.child}t=t.sibling}o.tail!==null&&ee()>Jr&&(e.flags|=128,n=!0,pn(o,!1),e.lanes=4194304)}else{if(!n)if(t=io(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!G)return fe(e),null}else 2*ee()-o.renderingStartTime>Jr&&r!==1073741824&&(e.flags|=128,n=!0,pn(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(r=o.last,r!==null?r.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ee(),e.sibling=null,r=J.current,H(J,n?r&1|2:r&1),e):(fe(e),null);case 22:case 23:return vl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Pe&1073741824&&(fe(e),e.subtreeFlags&6&&(e.flags|=8192)):fe(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function fm(t,e){switch(Xa(e),e.tag){case 1:return Ce(e.type)&&Zs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gr(),V(Ne),V(ye),al(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return il(e),null;case 13:if(V(J),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Vr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(J),null;case 4:return Gr(),null;case 10:return rl(e.type._context),null;case 22:case 23:return vl(),null;case 24:return null;default:return null}}var Ss=!1,me=!1,pm=typeof WeakSet=="function"?WeakSet:Set,E=null;function Ir(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Z(t,e,n)}else r.current=null}function ca(t,e,r){try{r()}catch(n){Z(t,e,n)}}var $c=!1;function mm(t,e){if(Vi=Qs,t=ud(),Ja(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var g;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===r&&++u===s&&(l=i),h===o&&++d===n&&(c=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ki={focusedElem:t,selectionRange:r},Qs=!1,E=e;E!==null;)if(e=E,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,E=t;else for(;E!==null;){e=E;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,_=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:We(e.type,x),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){Z(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,E=t;break}E=e.return}return v=$c,$c=!1,v}function En(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&ca(e,r,o)}s=s.next}while(s!==n)}}function Eo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ua(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ih(t){var e=t.alternate;e!==null&&(t.alternate=null,ih(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[rt],delete e[qn],delete e[Ji],delete e[Yp],delete e[Xp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ah(t){return t.tag===5||t.tag===3||t.tag===4}function Rc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ah(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function da(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Xs));else if(n!==4&&(t=t.child,t!==null))for(da(t,e,r),t=t.sibling;t!==null;)da(t,e,r),t=t.sibling}function ha(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ha(t,e,r),t=t.sibling;t!==null;)ha(t,e,r),t=t.sibling}var le=null,Ve=!1;function kt(t,e,r){for(r=r.child;r!==null;)lh(t,e,r),r=r.sibling}function lh(t,e,r){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(wo,r)}catch{}switch(r.tag){case 5:me||Ir(r,e);case 6:var n=le,s=Ve;le=null,kt(t,e,r),le=n,Ve=s,le!==null&&(Ve?(t=le,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):le.removeChild(r.stateNode));break;case 18:le!==null&&(Ve?(t=le,r=r.stateNode,t.nodeType===8?ai(t.parentNode,r):t.nodeType===1&&ai(t,r),Fn(t)):ai(le,r.stateNode));break;case 4:n=le,s=Ve,le=r.stateNode.containerInfo,Ve=!0,kt(t,e,r),le=n,Ve=s;break;case 0:case 11:case 14:case 15:if(!me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ca(r,e,i),s=s.next}while(s!==n)}kt(t,e,r);break;case 1:if(!me&&(Ir(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Z(r,e,l)}kt(t,e,r);break;case 21:kt(t,e,r);break;case 22:r.mode&1?(me=(n=me)||r.memoizedState!==null,kt(t,e,r),me=n):kt(t,e,r);break;default:kt(t,e,r)}}function Ac(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new pm),e.forEach(function(n){var s=Sm.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function qe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,i=e,l=i;e:for(;l!==null;){switch(l.tag){case 5:le=l.stateNode,Ve=!1;break e;case 3:le=l.stateNode.containerInfo,Ve=!0;break e;case 4:le=l.stateNode.containerInfo,Ve=!0;break e}l=l.return}if(le===null)throw Error(S(160));lh(o,i,s),le=null,Ve=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Z(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ch(e,t),e=e.sibling}function ch(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qe(e,t),et(t),n&4){try{En(3,t,t.return),Eo(3,t)}catch(x){Z(t,t.return,x)}try{En(5,t,t.return)}catch(x){Z(t,t.return,x)}}break;case 1:qe(e,t),et(t),n&512&&r!==null&&Ir(r,r.return);break;case 5:if(qe(e,t),et(t),n&512&&r!==null&&Ir(r,r.return),t.flags&32){var s=t.stateNode;try{On(s,"")}catch(x){Z(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=r!==null?r.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&$u(s,o),Li(l,i);var u=Li(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Lu(s,f):d==="dangerouslySetInnerHTML"?Ou(s,f):d==="children"?On(s,f):Ua(s,d,f,u)}switch(l){case"input":$i(s,o);break;case"textarea":Ru(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ur(s,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Ur(s,!!o.multiple,o.defaultValue,!0):Ur(s,!!o.multiple,o.multiple?[]:"",!1))}s[qn]=o}catch(x){Z(t,t.return,x)}}break;case 6:if(qe(e,t),et(t),n&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(x){Z(t,t.return,x)}}break;case 3:if(qe(e,t),et(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fn(e.containerInfo)}catch(x){Z(t,t.return,x)}break;case 4:qe(e,t),et(t);break;case 13:qe(e,t),et(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(yl=ee())),n&4&&Ac(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(me=(u=me)||d,qe(e,t),me=u):qe(e,t),et(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(E=t,d=t.child;d!==null;){for(f=E=d;E!==null;){switch(h=E,g=h.child,h.tag){case 0:case 11:case 14:case 15:En(4,h,h.return);break;case 1:Ir(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Z(n,r,x)}}break;case 5:Ir(h,h.return);break;case 22:if(h.memoizedState!==null){Ic(f);continue}}g!==null?(g.return=h,E=g):Ic(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Iu("display",i))}catch(x){Z(t,t.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Z(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qe(e,t),et(t),n&4&&Ac(t);break;case 21:break;default:qe(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(ah(r)){var n=r;break e}r=r.return}throw Error(S(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(On(s,""),n.flags&=-33);var o=Rc(t);ha(t,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Rc(t);da(t,l,i);break;default:throw Error(S(161))}}catch(c){Z(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ym(t,e,r){E=t,uh(t)}function uh(t,e,r){for(var n=(t.mode&1)!==0;E!==null;){var s=E,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Ss;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||me;l=Ss;var u=me;if(Ss=i,(me=c)&&!u)for(E=s;E!==null;)i=E,c=i.child,i.tag===22&&i.memoizedState!==null?Lc(s):c!==null?(c.return=i,E=c):Lc(s);for(;o!==null;)E=o,uh(o),o=o.sibling;E=s,Ss=l,me=u}Oc(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,E=o):Oc(t)}}function Oc(t){for(;E!==null;){var e=E;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||Eo(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!me)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:We(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vc(e,o,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}vc(e,i,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Fn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}me||e.flags&512&&ua(e)}catch(h){Z(e,e.return,h)}}if(e===t){E=null;break}if(r=e.sibling,r!==null){r.return=e.return,E=r;break}E=e.return}}function Ic(t){for(;E!==null;){var e=E;if(e===t){E=null;break}var r=e.sibling;if(r!==null){r.return=e.return,E=r;break}E=e.return}}function Lc(t){for(;E!==null;){var e=E;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Eo(4,e)}catch(c){Z(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){Z(e,s,c)}}var o=e.return;try{ua(e)}catch(c){Z(e,o,c)}break;case 5:var i=e.return;try{ua(e)}catch(c){Z(e,i,c)}}}catch(c){Z(e,e.return,c)}if(e===t){E=null;break}var l=e.sibling;if(l!==null){l.return=e.return,E=l;break}E=e.return}}var gm=Math.ceil,co=xt.ReactCurrentDispatcher,pl=xt.ReactCurrentOwner,Fe=xt.ReactCurrentBatchConfig,D=0,ae=null,re=null,ce=0,Pe=0,Lr=qt(0),se=0,Qn=null,cr=0,Po=0,ml=0,Pn=null,_e=null,yl=0,Jr=1/0,lt=null,uo=!1,fa=null,Ut=null,js=!1,$t=null,ho=0,Tn=0,pa=null,Ms=-1,zs=0;function ve(){return D&6?ee():Ms!==-1?Ms:Ms=ee()}function Ft(t){return t.mode&1?D&2&&ce!==0?ce&-ce:em.transition!==null?(zs===0&&(zs=Gu()),zs):(t=z,t!==0||(t=window.event,t=t===void 0?16:td(t.type)),t):1}function Je(t,e,r,n){if(50<Tn)throw Tn=0,pa=null,Error(S(185));es(t,r,n),(!(D&2)||t!==ae)&&(t===ae&&(!(D&2)&&(Po|=r),se===4&&Et(t,ce)),Ee(t,n),r===1&&D===0&&!(e.mode&1)&&(Jr=ee()+500,jo&&Ht()))}function Ee(t,e){var r=t.callbackNode;ep(t,e);var n=Gs(t,t===ae?ce:0);if(n===0)r!==null&&Wl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Wl(r),e===1)t.tag===0?Zp(Uc.bind(null,t)):wd(Uc.bind(null,t)),Qp(function(){!(D&6)&&Ht()}),r=null;else{switch(Qu(n)){case 1:r=Ba;break;case 4:r=Vu;break;case 16:r=Ks;break;case 536870912:r=Ku;break;default:r=Ks}r=vh(r,dh.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dh(t,e){if(Ms=-1,zs=0,D&6)throw Error(S(327));var r=t.callbackNode;if(Br()&&t.callbackNode!==r)return null;var n=Gs(t,t===ae?ce:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=fo(t,n);else{e=n;var s=D;D|=2;var o=fh();(ae!==t||ce!==e)&&(lt=null,Jr=ee()+500,sr(t,e));do try{wm();break}catch(l){hh(t,l)}while(!0);tl(),co.current=o,D=s,re!==null?e=0:(ae=null,ce=0,e=se)}if(e!==0){if(e===2&&(s=zi(t),s!==0&&(n=s,e=ma(t,s))),e===1)throw r=Qn,sr(t,0),Et(t,n),Ee(t,ee()),r;if(e===6)Et(t,n);else{if(s=t.current.alternate,!(n&30)&&!vm(s)&&(e=fo(t,n),e===2&&(o=zi(t),o!==0&&(n=o,e=ma(t,o))),e===1))throw r=Qn,sr(t,0),Et(t,n),Ee(t,ee()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(S(345));case 2:Yt(t,_e,lt);break;case 3:if(Et(t,n),(n&130023424)===n&&(e=yl+500-ee(),10<e)){if(Gs(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Qi(Yt.bind(null,t,_e,lt),e);break}Yt(t,_e,lt);break;case 4:if(Et(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var i=31-Qe(n);o=1<<i,i=e[i],i>s&&(s=i),n&=~o}if(n=s,n=ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gm(n/1960))-n,10<n){t.timeoutHandle=Qi(Yt.bind(null,t,_e,lt),n);break}Yt(t,_e,lt);break;case 5:Yt(t,_e,lt);break;default:throw Error(S(329))}}}return Ee(t,ee()),t.callbackNode===r?dh.bind(null,t):null}function ma(t,e){var r=Pn;return t.current.memoizedState.isDehydrated&&(sr(t,e).flags|=256),t=fo(t,e),t!==2&&(e=_e,_e=r,e!==null&&ya(e)),t}function ya(t){_e===null?_e=t:_e.push.apply(_e,t)}function vm(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Ye(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Et(t,e){for(e&=~ml,e&=~Po,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Qe(e),n=1<<r;t[r]=-1,e&=~n}}function Uc(t){if(D&6)throw Error(S(327));Br();var e=Gs(t,0);if(!(e&1))return Ee(t,ee()),null;var r=fo(t,e);if(t.tag!==0&&r===2){var n=zi(t);n!==0&&(e=n,r=ma(t,n))}if(r===1)throw r=Qn,sr(t,0),Et(t,e),Ee(t,ee()),r;if(r===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Yt(t,_e,lt),Ee(t,ee()),null}function gl(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Jr=ee()+500,jo&&Ht())}}function ur(t){$t!==null&&$t.tag===0&&!(D&6)&&Br();var e=D;D|=1;var r=Fe.transition,n=z;try{if(Fe.transition=null,z=1,t)return t()}finally{z=n,Fe.transition=r,D=e,!(D&6)&&Ht()}}function vl(){Pe=Lr.current,V(Lr)}function sr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Gp(r)),re!==null)for(r=re.return;r!==null;){var n=r;switch(Xa(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zs();break;case 3:Gr(),V(Ne),V(ye),al();break;case 5:il(n);break;case 4:Gr();break;case 13:V(J);break;case 19:V(J);break;case 10:rl(n.type._context);break;case 22:case 23:vl()}r=r.return}if(ae=t,re=t=Dt(t.current,null),ce=Pe=e,se=0,Qn=null,ml=Po=cr=0,_e=Pn=null,rr!==null){for(e=0;e<rr.length;e++)if(r=rr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}rr=null}return t}function hh(t,e){do{var r=re;try{if(tl(),Us.current=lo,ao){for(var n=Y.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ao=!1}if(lr=0,ie=ne=Y=null,Cn=!1,Vn=0,pl.current=null,r===null||r.return===null){se=1,Qn=e,re=null;break}e:{var o=t,i=r.return,l=r,c=e;if(e=ce,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Sc(i);if(g!==null){g.flags&=-257,jc(g,i,l,o,e),g.mode&1&&_c(o,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){_c(o,u,e),xl();break e}c=Error(S(426))}}else if(G&&l.mode&1){var _=Sc(i);if(_!==null){!(_.flags&65536)&&(_.flags|=256),jc(_,i,l,o,e),Za(Qr(c,l));break e}}o=c=Qr(c,l),se!==4&&(se=2),Pn===null?Pn=[o]:Pn.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Qd(o,c,e);gc(o,m);break e;case 1:l=c;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ut===null||!Ut.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=Jd(o,l,e);gc(o,w);break e}}o=o.return}while(o!==null)}mh(r)}catch(b){e=b,re===r&&r!==null&&(re=r=r.return);continue}break}while(!0)}function fh(){var t=co.current;return co.current=lo,t===null?lo:t}function xl(){(se===0||se===3||se===2)&&(se=4),ae===null||!(cr&268435455)&&!(Po&268435455)||Et(ae,ce)}function fo(t,e){var r=D;D|=2;var n=fh();(ae!==t||ce!==e)&&(lt=null,sr(t,e));do try{xm();break}catch(s){hh(t,s)}while(!0);if(tl(),D=r,co.current=n,re!==null)throw Error(S(261));return ae=null,ce=0,se}function xm(){for(;re!==null;)ph(re)}function wm(){for(;re!==null&&!Wf();)ph(re)}function ph(t){var e=gh(t.alternate,t,Pe);t.memoizedProps=t.pendingProps,e===null?mh(t):re=e,pl.current=null}function mh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=fm(r,e),r!==null){r.flags&=32767,re=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,re=null;return}}else if(r=hm(r,e,Pe),r!==null){re=r;return}if(e=e.sibling,e!==null){re=e;return}re=e=t}while(e!==null);se===0&&(se=5)}function Yt(t,e,r){var n=z,s=Fe.transition;try{Fe.transition=null,z=1,bm(t,e,r,n)}finally{Fe.transition=s,z=n}return null}function bm(t,e,r,n){do Br();while($t!==null);if(D&6)throw Error(S(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(tp(t,o),t===ae&&(re=ae=null,ce=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||js||(js=!0,vh(Ks,function(){return Br(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Fe.transition,Fe.transition=null;var i=z;z=1;var l=D;D|=4,pl.current=null,mm(t,r),ch(r,t),zp(Ki),Qs=!!Vi,Ki=Vi=null,t.current=r,ym(r),Vf(),D=l,z=i,Fe.transition=o}else t.current=r;if(js&&(js=!1,$t=t,ho=s),o=t.pendingLanes,o===0&&(Ut=null),Qf(r.stateNode),Ee(t,ee()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(uo)throw uo=!1,t=fa,fa=null,t;return ho&1&&t.tag!==0&&Br(),o=t.pendingLanes,o&1?t===pa?Tn++:(Tn=0,pa=t):Tn=0,Ht(),null}function Br(){if($t!==null){var t=Qu(ho),e=Fe.transition,r=z;try{if(Fe.transition=null,z=16>t?16:t,$t===null)var n=!1;else{if(t=$t,$t=null,ho=0,D&6)throw Error(S(331));var s=D;for(D|=4,E=t.current;E!==null;){var o=E,i=o.child;if(E.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(E=u;E!==null;){var d=E;switch(d.tag){case 0:case 11:case 15:En(8,d,o)}var f=d.child;if(f!==null)f.return=d,E=f;else for(;E!==null;){d=E;var h=d.sibling,g=d.return;if(ih(d),d===u){E=null;break}if(h!==null){h.return=g,E=h;break}E=g}}}var v=o.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}E=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,E=i;else e:for(;E!==null;){if(o=E,o.flags&2048)switch(o.tag){case 0:case 11:case 15:En(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,E=m;break e}E=o.return}}var p=t.current;for(E=p;E!==null;){i=E;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,E=y;else e:for(i=p;E!==null;){if(l=E,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Eo(9,l)}}catch(b){Z(l,l.return,b)}if(l===i){E=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,E=w;break e}E=l.return}}if(D=s,Ht(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(wo,t)}catch{}n=!0}return n}finally{z=r,Fe.transition=e}}return!1}function Fc(t,e,r){e=Qr(r,e),e=Qd(t,e,1),t=Lt(t,e,1),e=ve(),t!==null&&(es(t,1,e),Ee(t,e))}function Z(t,e,r){if(t.tag===3)Fc(t,t,r);else for(;e!==null;){if(e.tag===3){Fc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){t=Qr(r,t),t=Jd(e,t,1),e=Lt(e,t,1),t=ve(),e!==null&&(es(e,1,t),Ee(e,t));break}}e=e.return}}function km(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ve(),t.pingedLanes|=t.suspendedLanes&r,ae===t&&(ce&r)===r&&(se===4||se===3&&(ce&130023424)===ce&&500>ee()-yl?sr(t,0):ml|=r),Ee(t,e)}function yh(t,e){e===0&&(t.mode&1?(e=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):e=1);var r=ve();t=gt(t,e),t!==null&&(es(t,e,r),Ee(t,r))}function _m(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),yh(t,r)}function Sm(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(S(314))}n!==null&&n.delete(e),yh(t,r)}var gh;gh=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ne.current)je=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return je=!1,dm(t,e,r);je=!!(t.flags&131072)}else je=!1,G&&e.flags&1048576&&bd(e,ro,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ds(t,e),t=e.pendingProps;var s=Wr(e,ye.current);zr(e,r),s=cl(null,e,n,t,s,r);var o=ul();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ce(n)?(o=!0,eo(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sl(e),s.updater=Co,e.stateNode=s,s._reactInternals=e,ra(e,n,t,r),e=oa(null,e,n,!0,o,r)):(e.tag=0,G&&o&&Ya(e),ge(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ds(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Nm(n),t=We(n,t),s){case 0:e=sa(null,e,n,t,r);break e;case 1:e=Ec(null,e,n,t,r);break e;case 11:e=Nc(null,e,n,t,r);break e;case 14:e=Cc(null,e,n,We(n.type,t),r);break e}throw Error(S(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:We(n,s),sa(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:We(n,s),Ec(t,e,n,s,r);case 3:e:{if(eh(e),t===null)throw Error(S(387));n=e.pendingProps,o=e.memoizedState,s=o.element,Cd(t,e),oo(e,n,null,r);var i=e.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=Qr(Error(S(423)),e),e=Pc(t,e,n,r,s);break e}else if(n!==s){s=Qr(Error(S(424)),e),e=Pc(t,e,n,r,s);break e}else for(Te=It(e.stateNode.containerInfo.firstChild),$e=e,G=!0,Ge=null,r=jd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vr(),n===s){e=vt(t,e,r);break e}ge(t,e,n,r)}e=e.child}return e;case 5:return Ed(e),t===null&&Zi(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Gi(n,s)?i=null:o!==null&&Gi(n,o)&&(e.flags|=32),Zd(t,e),ge(t,e,i,r),e.child;case 6:return t===null&&Zi(e),null;case 13:return th(t,e,r);case 4:return ol(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Kr(e,null,n,r):ge(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:We(n,s),Nc(t,e,n,s,r);case 7:return ge(t,e,e.pendingProps,r),e.child;case 8:return ge(t,e,e.pendingProps.children,r),e.child;case 12:return ge(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,H(no,n._currentValue),n._currentValue=i,o!==null)if(Ye(o.value,i)){if(o.children===s.children&&!Ne.current){e=vt(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=pt(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),ea(o.return,r,e),l.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(S(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ea(i,r,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}ge(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,zr(e,r),s=Me(s),n=n(s),e.flags|=1,ge(t,e,n,r),e.child;case 14:return n=e.type,s=We(n,e.pendingProps),s=We(n.type,s),Cc(t,e,n,s,r);case 15:return Yd(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:We(n,s),Ds(t,e),e.tag=1,Ce(n)?(t=!0,eo(e)):t=!1,zr(e,r),Gd(e,n,s),ra(e,n,s,r),oa(null,e,n,!0,t,r);case 19:return rh(t,e,r);case 22:return Xd(t,e,r)}throw Error(S(156,e.tag))};function vh(t,e){return Wu(t,e)}function jm(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ue(t,e,r,n){return new jm(t,e,r,n)}function wl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nm(t){if(typeof t=="function")return wl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Da)return 11;if(t===Ma)return 14}return 2}function Dt(t,e){var r=t.alternate;return r===null?(r=Ue(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Bs(t,e,r,n,s,o){var i=2;if(n=t,typeof t=="function")wl(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case Nr:return or(r.children,s,o,e);case Fa:i=8,s|=8;break;case Ni:return t=Ue(12,r,e,s|2),t.elementType=Ni,t.lanes=o,t;case Ci:return t=Ue(13,r,e,s),t.elementType=Ci,t.lanes=o,t;case Ei:return t=Ue(19,r,e,s),t.elementType=Ei,t.lanes=o,t;case Eu:return To(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nu:i=10;break e;case Cu:i=9;break e;case Da:i=11;break e;case Ma:i=14;break e;case jt:i=16,n=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=Ue(i,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function or(t,e,r,n){return t=Ue(7,t,n,e),t.lanes=r,t}function To(t,e,r,n){return t=Ue(22,t,n,e),t.elementType=Eu,t.lanes=r,t.stateNode={isHidden:!1},t}function mi(t,e,r){return t=Ue(6,t,null,e),t.lanes=r,t}function yi(t,e,r){return e=Ue(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Cm(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bl(t,e,r,n,s,o,i,l,c){return t=new Cm(t,e,r,l,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ue(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sl(o),t}function Em(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function xh(t){if(!t)return zt;t=t._reactInternals;e:{if(pr(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ce(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var r=t.type;if(Ce(r))return xd(t,r,e)}return e}function wh(t,e,r,n,s,o,i,l,c){return t=bl(r,n,!0,t,s,o,i,l,c),t.context=xh(null),r=t.current,n=ve(),s=Ft(r),o=pt(n,s),o.callback=e??null,Lt(r,o,s),t.current.lanes=s,es(t,s,n),Ee(t,n),t}function $o(t,e,r,n){var s=e.current,o=ve(),i=Ft(s);return r=xh(r),e.context===null?e.context=r:e.pendingContext=r,e=pt(o,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Lt(s,e,i),t!==null&&(Je(t,s,i,o),Ls(t,s,i)),i}function po(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kl(t,e){Dc(t,e),(t=t.alternate)&&Dc(t,e)}function Pm(){return null}var bh=typeof reportError=="function"?reportError:function(t){console.error(t)};function _l(t){this._internalRoot=t}Ro.prototype.render=_l.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));$o(t,e,null,null)};Ro.prototype.unmount=_l.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ur(function(){$o(null,t,null,null)}),e[yt]=null}};function Ro(t){this._internalRoot=t}Ro.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xu();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ct.length&&e!==0&&e<Ct[r].priority;r++);Ct.splice(r,0,t),r===0&&ed(t)}};function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ao(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function Tm(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=po(i);o.call(u)}}var i=wh(e,n,t,0,null,!1,!1,"",Mc);return t._reactRootContainer=i,t[yt]=i.current,zn(t.nodeType===8?t.parentNode:t),ur(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=po(c);l.call(u)}}var c=bl(t,0,!1,null,null,!1,!1,"",Mc);return t._reactRootContainer=c,t[yt]=c.current,zn(t.nodeType===8?t.parentNode:t),ur(function(){$o(e,c,r,n)}),c}function Oo(t,e,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=po(i);l.call(c)}}$o(e,i,t,s)}else i=Tm(r,e,t,s,n);return po(i)}Ju=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=xn(e.pendingLanes);r!==0&&(qa(e,r|1),Ee(e,ee()),!(D&6)&&(Jr=ee()+500,Ht()))}break;case 13:ur(function(){var n=gt(t,1);if(n!==null){var s=ve();Je(n,t,1,s)}}),kl(t,1)}};Ha=function(t){if(t.tag===13){var e=gt(t,134217728);if(e!==null){var r=ve();Je(e,t,134217728,r)}kl(t,134217728)}};Yu=function(t){if(t.tag===13){var e=Ft(t),r=gt(t,e);if(r!==null){var n=ve();Je(r,t,e,n)}kl(t,e)}};Xu=function(){return z};Zu=function(t,e){var r=z;try{return z=t,e()}finally{z=r}};Fi=function(t,e,r){switch(e){case"input":if($i(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=So(n);if(!s)throw Error(S(90));Tu(n),$i(n,s)}}}break;case"textarea":Ru(t,r);break;case"select":e=r.value,e!=null&&Ur(t,!!r.multiple,e,!1)}};Du=gl;Mu=ur;var $m={usingClientEntryPoint:!1,Events:[rs,Tr,So,Uu,Fu,gl]},mn={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rm={bundleType:mn.bundleType,version:mn.version,rendererPackageName:mn.rendererPackageName,rendererConfig:mn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qu(t),t===null?null:t.stateNode},findFiberByHostInstance:mn.findFiberByHostInstance||Pm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ns=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ns.isDisabled&&Ns.supportsFiber)try{wo=Ns.inject(Rm),nt=Ns}catch{}}Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$m;Ae.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sl(e))throw Error(S(200));return Em(t,e,null,r)};Ae.createRoot=function(t,e){if(!Sl(t))throw Error(S(299));var r=!1,n="",s=bh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=bl(t,1,!1,null,null,r,!1,n,s),t[yt]=e.current,zn(t.nodeType===8?t.parentNode:t),new _l(e)};Ae.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=qu(e),t=t===null?null:t.stateNode,t};Ae.flushSync=function(t){return ur(t)};Ae.hydrate=function(t,e,r){if(!Ao(e))throw Error(S(200));return Oo(null,t,e,!0,r)};Ae.hydrateRoot=function(t,e,r){if(!Sl(t))throw Error(S(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=bh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=wh(e,null,t,1,r??null,s,!1,o,i),t[yt]=e.current,zn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Ro(e)};Ae.render=function(t,e,r){if(!Ao(e))throw Error(S(200));return Oo(null,t,e,!1,r)};Ae.unmountComponentAtNode=function(t){if(!Ao(t))throw Error(S(40));return t._reactRootContainer?(ur(function(){Oo(null,null,t,!1,function(){t._reactRootContainer=null,t[yt]=null})}),!0):!1};Ae.unstable_batchedUpdates=gl;Ae.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ao(r))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Oo(t,e,r,!1,n)};Ae.version="18.3.1-next-f1338f8080-20240426";function kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kh)}catch(t){console.error(t)}}kh(),ku.exports=Ae;var Am=ku.exports,_h,zc=Am;_h=zc.createRoot,zc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Om={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>P.createElement("svg",{ref:d,...Om,width:s,height:s,stroke:n,strokeWidth:i?Number(o)*24/Number(s):o,className:["lucide",`lucide-${Im(t)}`,l].join(" "),...u},[...e.map(([f,h])=>P.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=M("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lm=M("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=M("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=M("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=M("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=M("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=M("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=M("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=M("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=M("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=M("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=M("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=M("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=M("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=M("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=M("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=M("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=M("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=M("Vault",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}],["path",{d:"m7.9 7.9 2.7 2.7",key:"hpeyl3"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}],["path",{d:"m13.4 10.6 2.7-2.7",key:"264c1n"}],["circle",{cx:"7.5",cy:"16.5",r:".5",fill:"currentColor",key:"nkw3mc"}],["path",{d:"m7.9 16.1 2.7-2.7",key:"p81g5e"}],["circle",{cx:"16.5",cy:"16.5",r:".5",fill:"currentColor",key:"fubopw"}],["path",{d:"m13.4 13.4 2.7 2.7",key:"abhel3"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ph=P.createContext(void 0),Xe=()=>{const t=P.useContext(Ph);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Qm=({children:t})=>{const r={background:"#0D0D0D",cardBackground:"rgba(237, 233, 242, 0.25)",cardBorder:"rgba(255, 255, 255, 0.12)",cardShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",textPrimary:"#FFFFFF",textSecondary:"#E0E0E0",accent:"#E4D5F2",cta:"#D7C4F2",ctaText:"#0D0D0D",backdropFilter:"blur(10px)"};return a.jsx(Ph.Provider,{value:{isDark:!0,theme:r},children:t})};function Jm({onAdminClick:t,user:e,onAuthClick:r,onSignOut:n}){var d,f;const[s,o]=P.useState(!1),{theme:i}=Xe(),l=(e==null?void 0:e.email)==="admin@propmate.com";P.useEffect(()=>{const h=g=>{const v=g.target;s&&!v.closest("header")&&o(!1)};return document.addEventListener("click",h),()=>document.removeEventListener("click",h)},[s]);const c=()=>({transform:"translateZ(0)",willChange:"background-color, backdrop-filter, border-color, box-shadow",maxWidth:"950px",margin:"0 auto",transition:"all 0.3s ease-out",background:"rgba(151, 86, 125, 0.05)",backdropFilter:"blur(31.9617px)",WebkitBackdropFilter:"blur(31.9617px)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 8px 32px rgba(151, 86, 125, 0.1)",borderRadius:"clamp(38px, 4vw, 9999px)"}),u=h=>{o(!1);const g=document.querySelector(h);g&&g.scrollIntoView({behavior:"smooth"})};return a.jsx(a.Fragment,{children:a.jsx("header",{className:"sticky top-0 z-50 relative",style:{padding:"16px 0",background:"transparent"},children:a.jsxs("div",{className:"mx-4 sm:mx-6 lg:mx-8 relative z-10",style:c(),children:[a.jsxs("div",{className:"flex justify-between items-center py-3 px-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-2xl shadow-lg transition-all duration-200 hover:brightness-110 hover:scale-105 flex items-center justify-center",style:{background:"#000000",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.6), inset 0 1px 0 rgba(255, 255, 255, 0.1)"},children:a.jsx("span",{className:"text-sm sm:text-base font-black leading-none",style:{color:"#ffffff",textShadow:"0 1px 2px rgba(0, 0, 0, 0.5)"},children:"PM"})}),a.jsx("span",{className:"typography-ui sm:typography-h4 font-semibold",style:{color:i.textPrimary},children:"PropMate"})]}),a.jsxs("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[a.jsx("button",{onClick:()=>u("#firms"),className:"typography-ui font-semibold transition-colors hover:opacity-80",style:{color:i.textSecondary},children:"Firms"}),a.jsx("button",{onClick:()=>u("#faq"),className:"typography-ui font-semibold transition-colors hover:opacity-80",style:{color:i.textSecondary},children:"FAQ"}),e&&(l?a.jsxs("button",{onClick:t,className:"flex items-center space-x-2 typography-ui font-semibold transition-colors hover:opacity-80",style:{color:i.textSecondary},children:[a.jsx(xa,{className:"h-4 w-4"}),a.jsx("span",{children:"Admin"})]}):a.jsx("button",{onClick:t,className:"typography-ui font-semibold transition-colors hover:opacity-80",style:{color:i.textSecondary},children:"My Requests"})),e?a.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 px-3 lg:px-4 py-2 rounded-2xl border transition-all duration-200 hover:brightness-110",style:{background:"rgba(151, 86, 125, 0.05)",backdropFilter:"blur(31.9617px)",WebkitBackdropFilter:"blur(31.9617px)",borderColor:"rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 4px 16px rgba(151, 86, 125, 0.1)"},children:[a.jsx(qc,{className:"h-3 w-3 lg:h-4 lg:w-4",style:{color:i.textSecondary}}),a.jsx("span",{className:"typography-small font-semibold hidden lg:inline",style:{color:i.textSecondary},children:l?"Admin":(d=e.email)==null?void 0:d.split("@")[0]})]}),a.jsx("button",{onClick:n,className:"transition-colors hover:text-red-400 p-1",style:{color:i.textSecondary},title:"Sign Out",children:a.jsx(qm,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[a.jsx("button",{onClick:()=>r("signin"),className:"typography-ui font-semibold transition-colors hover:opacity-80",style:{color:i.textSecondary},children:"Sign In"}),a.jsx("button",{onClick:()=>r("signup"),className:"px-4 lg:px-6 py-2 lg:py-2.5 rounded-2xl typography-ui font-semibold transition-all duration-200 hover:scale-105",style:{backgroundColor:i.cta,color:i.ctaText,boxShadow:`0 4px 16px ${i.cta}30`},children:"Get Started"})]})]}),a.jsx("div",{className:"md:hidden flex items-center space-x-2",children:a.jsx("button",{className:"p-3 -m-1 rounded-2xl transition-all duration-200 hover:brightness-110 hover:scale-105",style:{background:"rgba(151, 86, 125, 0.05)",backdropFilter:"blur(31.9617px)",WebkitBackdropFilter:"blur(31.9617px)",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 4px 16px rgba(151, 86, 125, 0.1)"},onClick:()=>o(!s),"aria-label":"Toggle menu",children:s?a.jsx(Yr,{className:"h-5 w-5",style:{color:i.textSecondary}}):a.jsx(Hm,{className:"h-5 w-5",style:{color:i.textSecondary}})})})]}),s&&a.jsx("div",{className:"md:hidden py-4 border-t px-4 sm:px-6",style:{borderColor:"rgba(255, 255, 255, 0.1)"},children:a.jsxs("nav",{className:"flex flex-col space-y-4",children:[a.jsx("button",{onClick:()=>u("#firms"),className:"typography-ui font-semibold transition-colors hover:opacity-80 text-left",style:{color:i.textSecondary},children:"Firms"}),a.jsx("button",{onClick:()=>u("#faq"),className:"typography-ui font-semibold transition-colors hover:opacity-80 text-left",style:{color:i.textSecondary},children:"FAQ"}),e&&(l?a.jsxs("button",{onClick:()=>{t(),o(!1)},className:"flex items-center space-x-2 typography-ui font-semibold transition-colors hover:opacity-80 text-left",style:{color:i.textSecondary},children:[a.jsx(xa,{className:"h-4 w-4"}),a.jsx("span",{children:"Admin"})]}):a.jsx("button",{onClick:()=>{t(),o(!1)},className:"typography-ui font-semibold transition-colors hover:opacity-80 text-left",style:{color:i.textSecondary},children:"My Requests"})),e?a.jsxs("div",{className:"space-y-3 pt-4 border-t",style:{borderColor:"rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 rounded-2xl border transition-all duration-200 hover:brightness-110",style:{background:"rgba(151, 86, 125, 0.05)",backdropFilter:"blur(31.9617px)",WebkitBackdropFilter:"blur(31.9617px)",borderColor:"rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 4px 16px rgba(151, 86, 125, 0.1)"},children:[a.jsx(qc,{className:"h-4 w-4",style:{color:i.textSecondary}}),a.jsx("span",{className:"typography-small font-semibold",style:{color:i.textSecondary},children:l?"Admin":(f=e.email)==null?void 0:f.split("@")[0]})]}),a.jsx("button",{onClick:()=>{n(),o(!1)},className:"typography-ui transition-colors hover:text-red-400 text-left",style:{color:i.textSecondary},children:"Sign Out"})]}):a.jsxs("div",{className:"space-y-3 pt-4 border-t",style:{borderColor:"rgba(255, 255, 255, 0.1)"},children:[a.jsx("button",{onClick:()=>{r("signin"),o(!1)},className:"typography-ui font-semibold transition-colors hover:opacity-80 text-left",style:{color:i.textSecondary},children:"Sign In"}),a.jsx("button",{onClick:()=>{r("signup"),o(!1)},className:"px-4 py-2.5 rounded-2xl text-center typography-ui font-semibold transition-all duration-200 w-full",style:{backgroundColor:i.cta,color:i.ctaText,boxShadow:`0 4px 16px ${i.cta}30`},children:"Get Started"})]})]})})]})})})}function Ym(){const{theme:t}=Xe(),e=()=>{const r=document.querySelector("#firms");r&&r.scrollIntoView({behavior:"smooth"})};return a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[a.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center py-20 sm:py-32",children:[a.jsxs("div",{className:"mb-16 sm:mb-20",children:[a.jsx("div",{className:"mb-8 sm:mb-12",children:a.jsxs("h1",{className:"mb-4 sm:mb-6 leading-none",children:[a.jsx("span",{className:"block text-6xl sm:text-8xl lg:text-9xl font-black tracking-tight relative z-10",style:{color:t.accent,textShadow:`0 4px 20px ${t.accent}40`,WebkitTextFillColor:t.accent,position:"relative"},children:"50% BACK"}),a.jsx("span",{className:"block text-4xl sm:text-6xl lg:text-7xl font-black tracking-tight mt-2 sm:mt-4 relative z-10",style:{color:t.textPrimary,textShadow:"0 2px 10px rgba(0, 0, 0, 0.3)",position:"relative"},children:"NO CATCH"})]})}),a.jsx("div",{className:"relative mb-8 sm:mb-12 flex justify-center",children:a.jsxs("div",{className:"relative p-8 sm:p-12 rounded-3xl border-2 transform hover:scale-105 transition-all duration-500",style:{background:`linear-gradient(135deg, 
                  rgba(215, 196, 242, 0.1) 0%, 
                  rgba(139, 90, 159, 0.2) 50%, 
                  rgba(215, 196, 242, 0.1) 100%
                )`,borderColor:`${t.accent}40`,boxShadow:`0 20px 60px ${t.accent}20, inset 0 1px 0 ${t.accent}30`},children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 rounded-full blur-xl opacity-60",style:{backgroundColor:t.accent}}),a.jsx("div",{className:"relative w-20 h-20 sm:w-28 sm:h-28 rounded-full flex items-center justify-center",style:{background:`linear-gradient(135deg, ${t.accent} 0%, ${t.cta} 100%)`,boxShadow:`0 8px 32px ${t.accent}40`},children:a.jsx(Gm,{className:"w-10 h-10 sm:w-14 sm:h-14",style:{color:t.ctaText}})})]}),a.jsx("div",{className:"absolute -top-4 -left-4 w-8 h-8 rounded-full flex items-center justify-center animate-bounce",style:{backgroundColor:`${t.accent}20`,animationDelay:"0s"},children:a.jsx(Yn,{className:"w-4 h-4",style:{color:t.accent}})}),a.jsx("div",{className:"absolute -top-2 -right-6 w-6 h-6 rounded-full flex items-center justify-center animate-bounce",style:{backgroundColor:`${t.accent}20`,animationDelay:"0.5s"},children:a.jsx("span",{className:"text-sm font-bold",style:{color:t.accent},children:"$"})}),a.jsx("div",{className:"absolute -bottom-4 -right-4 w-8 h-8 rounded-full flex items-center justify-center animate-bounce",style:{backgroundColor:`${t.accent}20`,animationDelay:"1s"},children:a.jsx(Lo,{className:"w-4 h-4",style:{color:t.accent}})}),a.jsx("div",{className:"absolute -bottom-2 -left-6 w-6 h-6 rounded-full flex items-center justify-center animate-bounce",style:{backgroundColor:`${t.accent}20`,animationDelay:"1.5s"},children:a.jsx("span",{className:"text-sm font-bold",style:{color:t.accent},children:"%"})})]})}),a.jsxs("p",{className:"typography-body-large sm:text-xl lg:text-2xl mb-12 sm:mb-16 max-w-4xl mx-auto leading-relaxed px-4 font-medium",style:{color:t.textSecondary},children:["We give you ",a.jsx("span",{className:"font-bold",style:{color:t.accent},children:"50% of our affiliate revenue"})," as cashback.",a.jsx("br",{className:"hidden sm:block"}),a.jsx("span",{className:"font-semibold",style:{color:t.textPrimary},children:"Real money. Straight to your wallet."})]}),a.jsx("div",{className:"mb-16 sm:mb-20",children:a.jsxs("button",{onClick:e,className:"group relative inline-flex items-center px-8 sm:px-12 py-4 sm:py-5 rounded-2xl typography-ui sm:text-lg font-bold transition-all duration-300 hover:scale-105 transform",style:{background:`linear-gradient(135deg, ${t.cta} 0%, ${t.accent} 100%)`,color:t.ctaText,boxShadow:`0 12px 40px ${t.cta}40, inset 0 1px 0 rgba(255, 255, 255, 0.2)`},children:[a.jsx("span",{className:"relative z-10",children:"Get Your Cashback"}),a.jsx("div",{className:"absolute inset-0 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300",style:{background:`linear-gradient(135deg, ${t.accent} 0%, ${t.cta} 100%)`}})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 lg:gap-8 max-w-4xl mx-auto px-4",children:[a.jsxs("div",{className:"group transition-all duration-300 hover:scale-105 w-full max-w-xs mx-auto md:mx-0",style:{position:"relative",minHeight:"274px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px 32px",gap:"20px"},children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl mt-4",style:{background:`linear-gradient(135deg, ${t.accent}20 0%, ${t.cta}20 100%)`,boxShadow:`0 4px 16px ${t.accent}20`},children:a.jsx(Yn,{className:"h-8 w-8",style:{color:t.accent}})}),a.jsx("div",{className:"text-lg md:text-xl font-bold mb-2 text-center",style:{color:t.textPrimary},children:"50% Revenue Split"}),a.jsx("div",{className:"text-xs md:text-sm font-light text-center",style:{color:t.textSecondary},children:"We share 50% of our affiliate revenue with you as cashback"})]}),a.jsxs("div",{className:"group transition-all duration-300 hover:scale-105 w-full max-w-xs mx-auto md:mx-0",style:{position:"relative",minHeight:"274px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px 32px",gap:"20px"},children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl mt-4",style:{background:`linear-gradient(135deg, ${t.accent}20 0%, ${t.cta}20 100%)`,boxShadow:`0 4px 16px ${t.accent}20`},children:a.jsx(xa,{className:"h-8 w-8",style:{color:t.accent}})}),a.jsx("div",{className:"text-lg md:text-xl font-bold mb-2 text-center",style:{color:t.textPrimary},children:"Highest Discount"}),a.jsx("div",{className:"text-xs md:text-sm font-light text-center",style:{color:t.textSecondary},children:"Avail the highest discount from the website and earn cashback on top of it"})]}),a.jsxs("div",{className:"group transition-all duration-300 hover:scale-105 w-full max-w-xs mx-auto md:mx-0",style:{position:"relative",minHeight:"274px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px 32px",gap:"20px"},children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl mt-4",style:{background:`linear-gradient(135deg, ${t.accent}20 0%, ${t.cta}20 100%)`,boxShadow:`0 4px 16px ${t.accent}20`},children:a.jsx(Io,{className:"h-8 w-8",style:{color:t.accent}})}),a.jsx("div",{className:"text-lg md:text-xl font-bold mb-2 text-center",style:{color:t.textPrimary},children:"Exclusive Giveaways"}),a.jsx("div",{className:"text-xs md:text-sm font-light text-center",style:{color:t.textSecondary},children:"Enter into exclusive account giveaways"})]})]}),a.jsx("div",{className:"absolute bottom-6 sm:bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:`${t.accent}20`},children:a.jsx(Sh,{className:"h-4 w-4 sm:h-5 sm:w-5",style:{color:t.accent}})})})]}),a.jsx("style",{children:`
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-10px); }
        }
        
        .animate-float {
          animation: float 3s ease-in-out infinite;
        }
        
        @keyframes glow {
          0%, 100% { box-shadow: 0 0 20px ${t.accent}40; }
          50% { box-shadow: 0 0 40px ${t.accent}60; }
        }
        
        .animate-glow {
          animation: glow 2s ease-in-out infinite;
        }
      `})]})}function Xm(){const{theme:t}=Xe(),e=[{number:1,title:"Choose a Platform",description:"Browse our list of supported platforms and pick the one you want to purchase from. We only list trusted prop firms and brokers offering the best available deals.",icon:a.jsx(va,{className:"h-8 w-8"})},{number:2,title:"Activate Discount",description:"Click the Purchase button. You'll be redirected to the platform's official website through our affiliate link. Use the highest discount available there to complete your purchase.",icon:a.jsx(jl,{className:"h-8 w-8"})},{number:3,title:"Claim Your Cashback",description:"After purchasing, return to our site and click the Claim Cashback button. Submit your proof of purchase and required details. We'll review your submission and notify you once it's approved.",icon:a.jsx(Io,{className:"h-8 w-8"})}];return a.jsx("section",{className:"py-16 sm:py-24",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16 sm:mb-20 w-full max-w-5xl mx-auto flex flex-col items-center justify-center p-6 md:p-8 gap-6",style:{position:"relative",minHeight:"200px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("h2",{className:"typography-h2 mb-4",style:{color:t.textPrimary},children:"How It Works"}),a.jsx("p",{className:"typography-body-large max-w-2xl mx-auto",style:{color:t.textSecondary},children:"Get started with our simple 3-step process to earn cashback on your prop trading purchases."})]}),a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 lg:gap-12 max-w-6xl mx-auto",children:e.map((r,n)=>a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"group transition-all duration-300 hover:scale-105 w-full flex flex-col items-center justify-center p-8 gap-6 text-center",style:{position:"relative",minHeight:"320px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold",style:{background:`linear-gradient(135deg, ${t.accent} 0%, ${t.cta} 100%)`,color:t.ctaText,boxShadow:`0 4px 16px ${t.accent}40`},children:r.number}),a.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-2xl",style:{background:`linear-gradient(135deg, ${t.accent}20 0%, ${t.cta}20 100%)`,boxShadow:`0 4px 16px ${t.accent}20`},children:qr.cloneElement(r.icon,{style:{color:t.accent}})}),a.jsx("h3",{className:"typography-h3",style:{color:t.textPrimary},children:r.title}),a.jsx("p",{className:"typography-body leading-relaxed",style:{color:t.textSecondary},children:r.description})]}),n<e.length-1&&a.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-6 transform -translate-y-1/2 z-10",children:a.jsx("div",{className:"w-12 h-0.5",style:{backgroundColor:`${t.accent}40`},children:a.jsx("div",{className:"absolute -right-1 -top-1.5 w-0 h-0",style:{borderLeft:`8px solid ${t.accent}40`,borderTop:"4px solid transparent",borderBottom:"4px solid transparent"}})})})]},r.number))}),a.jsxs("div",{className:"text-center mt-16 sm:mt-20 w-full max-w-5xl mx-auto flex flex-col items-center justify-center p-6 md:p-8 gap-6",style:{position:"relative",minHeight:"150px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("p",{className:"typography-body-large mb-4",style:{color:t.textSecondary},children:"Ready to start earning cashback?"}),a.jsx("button",{onClick:()=>{const r=document.querySelector("#firms");r&&r.scrollIntoView({behavior:"smooth"})},className:"px-8 py-4 rounded-2xl typography-ui font-bold transition-all duration-300 hover:scale-105 transform",style:{background:`linear-gradient(135deg, ${t.cta} 0%, ${t.accent} 100%)`,color:t.ctaText,boxShadow:`0 12px 40px ${t.cta}40, inset 0 1px 0 rgba(255, 255, 255, 0.2)`},children:"Browse Prop Firms"})]})]})})}function Zm({propFirms:t,onClaimCashback:e}){const{theme:r}=Xe(),[n,s]=P.useState(!0),[o,i]=P.useState(""),[l,c]=P.useState("default"),u=()=>{c(m=>{switch(m){case"default":return"highest";case"highest":return"lowest";case"lowest":return"default";default:return"default"}})},d=()=>{switch(l){case"highest":return{icon:a.jsx(Sh,{className:"h-4 w-4",style:{color:r.accent}}),text:"High to Low",description:"Sorted by highest cashback first"};case"lowest":return{icon:a.jsx(Um,{className:"h-4 w-4",style:{color:r.accent}}),text:"Low to High",description:"Sorted by lowest cashback first"};case"default":default:return{icon:a.jsx(Wm,{className:"h-4 w-4",style:{color:r.textSecondary}}),text:"Sort by Cashback",description:"No sorting applied"}}},f=qr.useMemo(()=>{let m=n?t.filter(p=>p.is_first_time_offer):t.filter(p=>!p.is_first_time_offer);return o.trim()&&(m=m.filter(p=>p.name.toLowerCase().includes(o.toLowerCase().trim()))),l==="highest"?m=[...m].sort((p,y)=>y.cashback_percentage-p.cashback_percentage):l==="lowest"&&(m=[...m].sort((p,y)=>p.cashback_percentage-y.cashback_percentage)),m},[t,n,o,l]),h=f.filter(m=>m.category==="forex"),g=f.filter(m=>m.category==="futures"),v=(m,p)=>{try{new URL(m),window.open(m,"_blank","noopener,noreferrer")}catch{alert(`Sorry, the link for ${p} appears to be broken. Please try again later or contact support.`)}},x=m=>a.jsxs("div",{className:"group relative transition-all duration-300 hover:scale-105 w-full max-w-5xl mx-auto flex flex-col md:flex-row items-center gap-5 md:gap-9 p-5 md:p-8",style:{position:"relative",minHeight:"200px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("img",{src:m.logo_url,alt:`${m.name} logo`,className:"w-16 h-16 rounded-2xl object-cover border",style:{borderColor:r.cardBorder}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-xl font-bold mb-2",style:{color:r.textPrimary},children:m.name}),a.jsx("p",{className:"text-sm leading-relaxed mb-4",style:{color:r.textSecondary},children:"Get the highest discount from the website + cashback by purchasing from us."}),a.jsxs("div",{className:"inline-block px-3 py-1 rounded-full text-sm font-bold mb-4",style:{backgroundColor:"#ef4444",color:"white"},children:[m.cashback_percentage,"% Cashback"]})]}),a.jsxs("div",{className:"flex flex-col md:flex-col space-y-3 w-full md:w-auto",children:[a.jsxs("button",{onClick:()=>v(m.affiliate_link,m.name),className:"px-6 py-3 rounded-2xl font-semibold text-center transition-all duration-200 flex items-center justify-center group-hover:scale-105 hover:brightness-110",style:{backgroundColor:r.cta,color:r.ctaText,boxShadow:`0 4px 16px ${r.cta}40`},children:[a.jsx("span",{children:"Purchase"}),a.jsx(jl,{className:"h-4 w-4 ml-2"})]}),a.jsxs("button",{onClick:()=>e(m),className:"px-6 py-3 rounded-2xl font-semibold border transition-all duration-200 flex items-center justify-center group-hover:scale-105 hover:bg-opacity-80",style:{backgroundColor:"transparent",borderColor:r.cardBorder,color:r.textSecondary},children:[a.jsx(Io,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:"Claim Cashback"})]})]})]},m.id),_=(m,p,y)=>p.length===0?null:a.jsxs("div",{className:"mb-12 sm:mb-16",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-3 sm:space-y-0 sm:space-x-4 mb-8 sm:mb-12 w-full max-w-5xl mx-auto p-6 md:p-8",style:{position:"relative",minHeight:"121px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("div",{className:"p-3 rounded-2xl",style:{backgroundColor:`${r.accent}20`},children:qr.cloneElement(y,{className:"h-6 w-6",style:{color:r.accent}})}),a.jsx("h3",{className:"text-2xl font-bold",style:{color:r.textPrimary},children:m}),a.jsxs("div",{className:"px-4 py-2 rounded-full text-sm font-semibold",style:{backgroundColor:`${r.accent}20`,color:r.accent},children:[p.length," ",p.length===1?"Firm":"Firms"]})]}),a.jsx("div",{className:"space-y-6",children:p.map(x)})]});return a.jsx("section",{id:"firms",className:"py-16 sm:py-24",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-16 sm:mb-20 w-full max-w-5xl mx-auto flex flex-col items-center justify-center p-6 md:p-8 gap-6",style:{position:"relative",minHeight:"250px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:r.textPrimary},children:"Featured Prop Firms"}),a.jsx("p",{className:"text-lg max-w-2xl mx-auto mb-6",style:{color:r.textSecondary},children:"Choose from your favorite Prop Firms and start earning cashbacks."}),a.jsxs("div",{className:"relative flex items-center justify-center",children:[a.jsx("span",{className:"text-sm font-semibold mr-4",style:{color:r.textSecondary},children:"Toggle this on to see first purchase offers"}),a.jsxs("button",{onClick:()=>s(!n),className:"relative transition-all duration-300 hover:scale-105",style:{position:"relative",width:"92px",height:"39px",background:n?"linear-gradient(135deg, #8B5A9F 0%, #97567D 100%)":"rgba(151, 86, 125, 0.2)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"19.5px",display:"flex",alignItems:"center",padding:"3px"},children:[a.jsx("span",{className:"absolute font-bold transition-all duration-300",style:{left:n?"6px":"auto",right:n?"auto":"8px",color:n?"white":r.textSecondary,opacity:n?1:.8,zIndex:1,fontSize:"9px",lineHeight:"1"},children:n?"First Time":"Recurring"}),a.jsx("div",{className:"absolute w-7 h-7 rounded-full transition-all duration-300 ease-in-out",style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 255, 255, 0.7) 100%)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.5)",transform:n?"translateX(58px)":"translateX(2px)",backdropFilter:"blur(10px)",top:"4px",zIndex:2}})]})]}),a.jsxs("div",{className:"w-full max-w-2xl mx-auto flex flex-col sm:flex-row gap-4 items-center justify-center",children:[a.jsxs("div",{className:"relative w-full sm:w-80",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(va,{className:"h-5 w-5",style:{color:r.textSecondary}})}),a.jsx("input",{type:"text",placeholder:"Search prop firms...",value:o,onChange:m=>i(m.target.value),className:"w-full pl-10 pr-4 py-3 rounded-2xl border transition-all duration-200 focus:outline-none hover:brightness-110",style:{background:"rgba(151, 86, 125, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",color:r.textPrimary,boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 4px 16px rgba(151, 86, 125, 0.1)",backdropFilter:"blur(31.9617px)",WebkitBackdropFilter:"blur(31.9617px)"},onFocus:m=>{m.target.style.boxShadow=`inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 0 0 2px ${r.accent}40, 0 8px 24px rgba(151, 86, 125, 0.2)`,m.target.style.background="rgba(151, 86, 125, 0.08)"},onBlur:m=>{m.target.style.boxShadow="inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 4px 16px rgba(151, 86, 125, 0.1)",m.target.style.background="rgba(151, 86, 125, 0.05)"}})]}),a.jsx("div",{className:"relative",children:a.jsx("button",{onClick:u,className:"group w-full sm:w-48 px-4 py-3 rounded-2xl border transition-all duration-200 focus:outline-none cursor-pointer hover:brightness-110 hover:scale-105",style:{background:"rgba(151, 86, 125, 0.05)",borderColor:"rgba(255, 255, 255, 0.1)",color:r.textPrimary,boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 4px 16px rgba(151, 86, 125, 0.1)",backdropFilter:"blur(31.9617px)",WebkitBackdropFilter:"blur(31.9617px)"},onFocus:m=>{m.target.style.boxShadow=`inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 0 0 2px ${r.accent}40, 0 8px 24px rgba(151, 86, 125, 0.2)`,m.target.style.background="rgba(151, 86, 125, 0.08)"},onBlur:m=>{m.target.style.boxShadow="inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25), 0 4px 16px rgba(151, 86, 125, 0.1)",m.target.style.background="rgba(151, 86, 125, 0.05)"},title:d().description,children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("span",{className:"font-medium text-sm",children:d().text}),a.jsx("div",{className:"transition-transform duration-200 group-hover:scale-110",children:d().icon})]})})})]}),l!=="default"&&a.jsx("div",{className:"text-center px-4 py-2 rounded-full text-xs font-semibold",style:{backgroundColor:`${r.accent}15`,color:r.accent,border:`1px solid ${r.accent}30`},children:a.jsxs("span",{className:"flex items-center justify-center space-x-1",children:[d().icon,a.jsxs("span",{children:["Cashback: ",d().text]})]})}),n&&a.jsx("div",{className:"p-3 rounded-2xl",style:{backgroundColor:`${r.accent}10`,borderColor:`${r.accent}30`},children:a.jsx("p",{className:"text-sm font-semibold",style:{color:r.accent},children:"✨ Showing first-time customer offers"})})]}),_("Futures Prop Firms",g,a.jsx(jh,{})),_("Forex Prop Firms",h,a.jsx(Lo,{})),f.length===0&&a.jsxs("div",{className:"text-center py-12 sm:py-16 w-full max-w-5xl mx-auto",style:{position:"relative",minHeight:"322px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"31px 42px"},children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",style:{backgroundColor:`${r.accent}20`},children:o.trim()?a.jsx(va,{className:"h-8 w-8",style:{color:r.accent}}):a.jsx(Ch,{className:"h-8 w-8",style:{color:r.accent}})}),a.jsx("h3",{className:"text-2xl font-bold mb-4",style:{color:r.textPrimary},children:o.trim()?"No Firms Found":n?"No First-Time Offers Available":"No Recurring Offers Available"}),a.jsx("p",{className:"text-base mb-6 px-4",style:{color:r.textSecondary},children:o.trim()?`No prop firms found matching "${o}". Try adjusting your search or filters.`:n?"There are currently no prop firms offering first-time customer cashback. Toggle off to see recurring offers.":"There are currently no prop firms offering recurring customer cashback. Toggle on to see first-time offers."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[o.trim()&&a.jsx("button",{onClick:()=>i(""),className:"px-6 py-3 rounded-2xl font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:r.cta,color:r.ctaText,boxShadow:`0 4px 16px ${r.cta}40`},children:"Clear Search"}),!o.trim()&&a.jsx("button",{onClick:()=>s(!n),className:"px-6 py-3 rounded-2xl font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:r.cta,color:r.ctaText,boxShadow:`0 4px 16px ${r.cta}40`},children:n?"Show Recurring Offers":"Show First-Time Offers"})]})]}),t.length===0&&a.jsxs("div",{className:"text-center py-12 sm:py-16 w-full max-w-5xl mx-auto",style:{position:"relative",minHeight:"322px",background:"rgba(239, 68, 68, 0.1)",border:"1.59809px solid rgba(239, 68, 68, 0.2)",borderRadius:"38.3541px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"31px 42px"},children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 bg-red-100",children:a.jsx(Lm,{className:"h-8 w-8 text-red-600"})}),a.jsx("h3",{className:"text-2xl font-bold mb-4 text-red-800",children:"Unable to Load Prop Firms"}),a.jsx("p",{className:"text-base mb-6 px-4 text-red-700",children:"We're having trouble loading the prop firms. Please refresh the page or try again later."}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-2xl font-semibold transition-all duration-200 hover:brightness-110 bg-red-600 text-white",children:"Refresh Page"})]}),a.jsxs("div",{className:"text-center mt-12 sm:mt-16 w-full max-w-5xl mx-auto",style:{position:"relative",minHeight:"121px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"31px 42px"},children:[a.jsx("p",{className:"text-base mb-4",style:{color:r.textSecondary},children:"Don't see your prop firm?"}),a.jsx("a",{href:"https://discord.gg/proptrading",target:"_blank",rel:"noopener noreferrer",className:"font-semibold transition-colors hover:opacity-80",style:{color:r.accent},children:"Request it on Discord →"})]})]})})}const ey="modulepreload",ty=function(t){return"/"+t},Wc={},ss=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=ty(c),c in Wc)return;Wc[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":ey,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return e().catch(o)})},ry=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ss(async()=>{const{default:n}=await Promise.resolve().then(()=>rn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Nl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ny extends Nl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Vc extends Nl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Kc extends Nl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var wa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(wa||(wa={}));var sy=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class oy{constructor(e,{headers:r={},customFetch:n,region:s=wa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=ry(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return sy(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new ny(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Vc(f);if(!f.ok)throw new Kc(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield f.json():g==="application/octet-stream"?v=yield f.blob():g==="text/event-stream"?v=f:g==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Kc||s instanceof Vc?s.context:void 0}}})}}var Se={},Cl={},Uo={},os={},Fo={},Do={},iy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xr=iy();const ay=Xr.fetch,Th=Xr.fetch.bind(Xr),$h=Xr.Headers,ly=Xr.Request,cy=Xr.Response,rn=Object.freeze(Object.defineProperty({__proto__:null,Headers:$h,Request:ly,Response:cy,default:Th,fetch:ay},Symbol.toStringTag,{value:"Module"})),uy=af(rn);var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});let dy=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Mo.default=dy;var Rh=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Do,"__esModule",{value:!0});const hy=Rh(uy),fy=Rh(Mo);let py=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=hy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,l,c;let u=null,d=null,f=null,h=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const m=await o.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const x=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),_=(l=o.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&_&&_.length>1&&(f=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(d=[],u=null,h=200,g="OK")}catch{o.status===404&&x===""?(h=204,g="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,g="OK"),u&&this.shouldThrowOnError)throw new fy.default(u)}return{error:u,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,l,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Do.default=py;var my=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fo,"__esModule",{value:!0});const yy=my(Do);let gy=class extends yy.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Fo.default=gy;var vy=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(os,"__esModule",{value:!0});const xy=vy(Fo);let wy=class extends xy.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${i}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};os.default=wy;var by=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uo,"__esModule",{value:!0});const yn=by(os);let ky=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=r,this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new yn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Uo.default=ky;var zo={},Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.version=void 0;Bo.version="0.0.0-automated";Object.defineProperty(zo,"__esModule",{value:!0});zo.DEFAULT_HEADERS=void 0;const _y=Bo;zo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_y.version}`};var Ah=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cl,"__esModule",{value:!0});const Sy=Ah(Uo),jy=Ah(os),Ny=zo;let Cy=class Oh{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ny.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Sy.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Oh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new jy.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Cl.default=Cy;var nn=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const Ih=nn(Cl);Se.PostgrestClient=Ih.default;const Lh=nn(Uo);Se.PostgrestQueryBuilder=Lh.default;const Uh=nn(os);Se.PostgrestFilterBuilder=Uh.default;const Fh=nn(Fo);Se.PostgrestTransformBuilder=Fh.default;const Dh=nn(Do);Se.PostgrestBuilder=Dh.default;const Mh=nn(Mo);Se.PostgrestError=Mh.default;var Ey=Se.default={PostgrestClient:Ih.default,PostgrestQueryBuilder:Lh.default,PostgrestFilterBuilder:Uh.default,PostgrestTransformBuilder:Fh.default,PostgrestBuilder:Dh.default,PostgrestError:Mh.default};const{PostgrestClient:Py,PostgrestQueryBuilder:H0,PostgrestFilterBuilder:W0,PostgrestTransformBuilder:V0,PostgrestBuilder:K0,PostgrestError:G0}=Ey;function Ty(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const $y=Ty(),Ry="2.11.15",Ay=`realtime-js/${Ry}`,Oy="1.0.0",zh=1e4,Iy=1e3;var $n;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($n||($n={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var Ke;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ke||(Ke={}));var ba;(function(t){t.websocket="websocket"})(ba||(ba={}));var Zt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Zt||(Zt={}));class Ly{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(e.slice(i,i+s));i=i+s;const c=n.decode(e.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(e.slice(i,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Bh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(q||(q={}));const Gc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,i)=>(o[i]=Uy(i,t,e,s),o),{})},Uy=(t,e,r,n)=>{const s=e.find(l=>l.name===t),o=s==null?void 0:s.type,i=r[t];return o&&!n.includes(o)?qh(o,i):ka(i)},qh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zy(e,r)}switch(t){case q.bool:return Fy(e);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return Dy(e);case q.json:case q.jsonb:return My(e);case q.timestamp:return By(e);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return ka(e);default:return ka(e)}},ka=t=>t,Fy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Dy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},My=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const i=t.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>qh(e,l))}return t},By=t=>typeof t=="string"?t.replace(" ","T"):t,Hh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class gi{constructor(e,r,n={},s=zh){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Qc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Qc||(Qc={}));class Rn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rn.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Rn.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Rn.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),i=this.transformState(r),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const h=d.map(_=>_.presence_ref),g=f.map(_=>_.presence_ref),v=d.filter(_=>g.indexOf(_.presence_ref)<0),x=f.filter(_=>h.indexOf(_.presence_ref)<0);v.length>0&&(l[u]=v),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);e[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Jc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Jc||(Jc={}));var Yc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Yc||(Yc={}));var ct;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ct||(ct={}));class El{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gi(this,Ke.join,this.params,this.timeout),this.rejoinTimer=new Bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ke.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Rn(this),this.broadcastEndpointURL=Hh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:o,presence:i,private:l}}=this.params;this._onError(d=>e==null?void 0:e(ct.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ct.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(ct.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let x=0;x<g;x++){const _=h[x],{filter:{event:m,schema:p,table:y,filter:w}}=_,b=d&&d[x];if(b&&b.event===m&&b.schema===p&&b.table===y&&b.filter===w)v.push(Object.assign(Object.assign({},_),{id:b.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ct.SUBSCRIBED);return}}).receive("error",d=>{this.state=pe.errored,e==null||e(ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:i}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ke.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new gi(this,Ke.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gi(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const i=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ke;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,x,_;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((_=(x=g.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var v,x,_,m,p,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const w=g.id,b=(v=g.filter)===null||v===void 0?void 0:v.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(p=(m=g==null?void 0:g.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:x,table:_,commit_timestamp:m,type:p,errors:y}=v;h=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:m,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(v))}g.callback(h,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&El.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ke.close,{},e)}_onError(e){this._on(Ke.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Gc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Gc(e.columns,e.old_record)),r}}const Xc=()=>{},qy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hy{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xc,this.ref=0,this.logger=Xc,this.conn=null,this.sendBuffer=[],this.serializer=new Ly,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...l)=>ss(async()=>{const{default:c}=await Promise.resolve().then(()=>rn);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${e}/${ba.websocket}`,this.httpEndpoint=Hh(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=$y),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Oy}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $n.connecting:return Zt.Connecting;case $n.open:return Zt.Open;case $n.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new El(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,i=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Ay};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ke.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Iy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ke.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([qy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Pl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Wy extends Pl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _a extends Pl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Vy=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Wh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ss(async()=>{const{default:n}=await Promise.resolve().then(()=>rn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Ky=()=>Vy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ss(()=>Promise.resolve().then(()=>rn),void 0)).Response:Response}),Sa=t=>{if(Array.isArray(t))return t.map(r=>Sa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=Sa(n)}),e},Gy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var mr=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const vi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qy=(t,e,r)=>mr(void 0,void 0,void 0,function*(){const n=yield Ky();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,i=(s==null?void 0:s.statusCode)||o+"";e(new Wy(vi(s),o,i))}).catch(s=>{e(new _a(vi(s),s))}):e(new _a(vi(t),t))}),Jy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(Gy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function is(t,e,r,n,s,o){return mr(this,void 0,void 0,function*(){return new Promise((i,l)=>{t(r,Jy(e,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Qy(c,l,n))})})}function yo(t,e,r,n){return mr(this,void 0,void 0,function*(){return is(t,"GET",e,r,n)})}function ut(t,e,r,n,s){return mr(this,void 0,void 0,function*(){return is(t,"POST",e,n,s,r)})}function ja(t,e,r,n,s){return mr(this,void 0,void 0,function*(){return is(t,"PUT",e,n,s,r)})}function Yy(t,e,r,n){return mr(this,void 0,void 0,function*(){return is(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Vh(t,e,r,n,s){return mr(this,void 0,void 0,function*(){return is(t,"DELETE",e,n,s,r)})}var ke=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Xy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zy{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Wh(s)}uploadOrUpdate(e,r,n,s){return ke(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Zc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?ja:ut)(this.fetch,`${this.url}/object/${d}`,o,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(oe(o))return{data:null,error:o};throw o}})}upload(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ke(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),i=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Zc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ja(this.fetch,l.toString(),c,{headers:d});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(oe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield ut(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),l=i.searchParams.get("token");if(!l)throw new Pl("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}update(e,r,n){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield ut(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ke(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield ut(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=yield ut(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}download(e,r){return ke(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield yo(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(oe(l))return{data:null,error:l};throw l}})}info(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield yo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Sa(n),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}exists(e){return ke(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Yy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(oe(n)&&n instanceof _a){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ke(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}list(e,r,n){return ke(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Xy),r),{prefix:e||""});return{data:yield ut(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const eg="2.10.4",tg={"X-Client-Info":`storage-js/${eg}`};var vr=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class rg{constructor(e,r={},n,s){const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},tg),r),this.fetch=Wh(n)}listBuckets(){return vr(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(oe(e))return{data:null,error:e};throw e}})}getBucket(e){return vr(this,void 0,void 0,function*(){try{return{data:yield yo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return vr(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return vr(this,void 0,void 0,function*(){try{return{data:yield ja(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(oe(n))return{data:null,error:n};throw n}})}emptyBucket(e){return vr(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return vr(this,void 0,void 0,function*(){try{return{data:yield Vh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}})}}class ng extends rg{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new Zy(this.url,this.headers,e,this.fetch)}}const sg="2.53.0";let bn="";typeof Deno<"u"?bn="deno":typeof document<"u"?bn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bn="react-native":bn="node";const og={"X-Client-Info":`supabase-js-${bn}/${sg}`},ig={headers:og},ag={schema:"public"},lg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cg={};var ug=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const dg=t=>{let e;return t?e=t:typeof fetch>"u"?e=Th:e=fetch,(...r)=>e(...r)},hg=()=>typeof Headers>"u"?$h:Headers,fg=(t,e,r)=>{const n=dg(r),s=hg();return(o,i)=>ug(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var pg=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function mg(t){return t.endsWith("/")?t:t+"/"}function yg(t,e){var r,n;const{db:s,auth:o,realtime:i,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pg(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const Kh="2.71.1",_r=30*1e3,Na=3,xi=Na*_r,gg="http://localhost:9999",vg="supabase.auth.token",xg={"X-Client-Info":`gotrue-js/${Kh}`},Ca="X-Supabase-Api-Version",Gh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bg=10*60*1e3;class Tl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class kg extends Tl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function _g(t){return A(t)&&t.name==="AuthApiError"}class Qh extends Tl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Wt extends Tl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class St extends Wt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Sg(t){return A(t)&&t.name==="AuthSessionMissingError"}class Cs extends Wt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Es extends Wt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends Wt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function jg(t){return A(t)&&t.name==="AuthImplicitGrantRedirectError"}class eu extends Wt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ea extends Wt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function wi(t){return A(t)&&t.name==="AuthRetryableFetchError"}class tu extends Wt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Pa extends Wt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ru=` 	
\r=`.split(""),Ng=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<ru.length;e+=1)t[ru[e].charCodeAt(0)]=-2;for(let e=0;e<go.length;e+=1)t[go[e].charCodeAt(0)]=e;return t})();function nu(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(go[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(go[n]),e.queuedBits-=6}}function Jh(t,e,r){const n=Ng[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function su(t){const e=[],r=i=>{e.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{Pg(i,n,r)};for(let i=0;i<t.length;i+=1)Jh(t.charCodeAt(i),s,o);return e.join("")}function Cg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Eg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Cg(n,e)}}function Pg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Tg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Jh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function $g(t){const e=[];return Eg(t,r=>e.push(r)),new Uint8Array(e)}function Rg(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>nu(s,r,n)),nu(null,r,n),e.join("")}function Ag(t){return Math.round(Date.now()/1e3)+t}function Og(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},Yh=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function Ig(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ss(async()=>{const{default:n}=await Promise.resolve().then(()=>rn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Lg=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Sr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_t=async(t,e)=>{await t.removeItem(e)};class qo{constructor(){this.promise=new qo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}qo.promiseConstructor=Promise;function bi(t){const e=t.split(".");if(e.length!==3)throw new Pa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!wg.test(e[n]))throw new Pa("JWT not in base64url format");return{header:JSON.parse(su(e[0])),payload:JSON.parse(su(e[1])),signature:Tg(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ug(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Fg(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await t(o);if(!e(o,null,i)){n(i);return}}catch(i){if(!e(o,i)){s(i);return}}})()})}function Dg(t){return("0"+t.toString(16)).substr(-2)}function Mg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Dg).join("")}async function zg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Bg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xr(t,e,r=!1){const n=Mg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Sr(t,`${e}-code-verifier`,s);const o=await Bg(n);return[o,n===o?"plain":"s256"]}const qg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hg(t){const e=t.headers.get(Ca);if(!e||!e.match(qg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Wg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Vg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(t){if(!Kg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ki(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ou(t){return JSON.parse(JSON.stringify(t))}var Gg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Xt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Qg=[502,503,504];async function iu(t){var e;if(!Lg(t))throw new Ea(Xt(t),0);if(Qg.includes(t.status))throw new Ea(Xt(t),t.status);let r;try{r=await t.json()}catch(o){throw new Qh(Xt(o),o)}let n;const s=Hg(t);if(s&&s.getTime()>=Gh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new tu(Xt(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new St}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new tu(Xt(r),t.status,r.weak_password.reasons);throw new kg(Xt(r),t.status||500,n)}const Jg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Ca]||(o[Ca]=Gh["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await Yg(t,e,r+l,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Yg(t,e,r,n,s,o){const i=Jg(e,n,s,o);let l;try{l=await t(r,Object.assign({},i))}catch(c){throw console.error(c),new Ea(Xt(c),0)}if(l.ok||await iu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await iu(c)}}function at(t){var e;let r=null;t0(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Ag(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function au(t){const e=at(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Pt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Xg(t){return{data:t,error:null}}function Zg(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,i=Gg(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function e0(t){return t}function t0(t){return t.access_token&&t.refresh_token&&t.expires_in}const _i=["global","local","others"];var r0=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class n0{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Xh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=_i[0]){if(_i.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_i.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=r0(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Zg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:e0});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(v.split(";")[1].split("=")[1]);u[`${_}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){wr(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wr(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Pt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){wr(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){wr(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wr(e.userId),wr(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}}function lu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function s0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const br={debug:!!(globalThis&&Yh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class o0 extends Zh{}async function i0(t,e,r){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new o0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(br.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}s0();const a0={url:gg,storageKey:vg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function cu(t,e,r){return await r()}const kr={};class Xn{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xn.nextInstanceID,Xn.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},a0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new n0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Xh(s.fetch),this.lock=s.lock||cu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:He()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=i0:this.lock=cu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Yh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=lu(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=kr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=kr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Kh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ig(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),He()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),jg(o)){const c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?{error:r}:{error:new Qh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:at}),{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(A(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:d,password:f,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await xr(this.storage,this.storageKey)),o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:at})}else if("phone"in e){const{phone:d,password:f,options:h}=e;o=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:at})}else throw new Es("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(A(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:i,options:l}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:au})}else if("phone"in e){const{phone:o,password:i,options:l}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:au})}else throw new Es("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Cs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,o,i,l,c,u,d,f,h,g;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:_,wallet:m,statement:p,options:y}=e;let w;if(He())if(typeof m=="object")w=m;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))w=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=m}const b=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const j=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:_,error:m}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Rg(x)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:at});if(m)throw m;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new Cs}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:m})}catch(_){if(A(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:at});if(await _t(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Cs}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(A(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=e,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:at}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Cs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,i;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await xr(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Es("You must provide either an email or phone number.")}catch(l){if(A(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:at});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(A(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await xr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:Xg})}catch(o){if(A(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new St;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(A(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:i}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:i,error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Es("You must provide either an email or phone number and a type")}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<xi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const i=await Qt(this.userStorage,this.storageKey+"-user");i!=null&&i.user?e.user=i.user:e.user=ki()}if(this.storage.isServer&&e.user){let i=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pt}):await this._useSession(async r=>{var n,s,o;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new St}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Pt})})}catch(r){if(A(r))return Sg(r)&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new St;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await xr(this.storage,this.storageKey));const{data:u,error:d}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Pt});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new St;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=bi(e.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(A(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:i,error:l}=r;if(l)throw l;e=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new St;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(A(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!He())throw new Ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new eu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new eu("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=e;if(!o||!l||!i||!u)throw new Ps("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const g=h-d;g*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:x,error:_}=await this._getUser(o);if(_)throw _;const m={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(n){if(A(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,e);if(l&&!(_g(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await _t(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Og(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await xr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(A(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:h}=o;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return He()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(A(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Fg(async s=>(s>0&&await Ug(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:at})),(s,o)=>{const i=200*Math.pow(2,s);return o&&wi(o)&&Date.now()+i-n<_r})}catch(n){if(this._debug(r,"error",n),A(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),He()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Qt(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Qt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Sr(this.userStorage,this.storageKey+"-user",i)),s.user=(e=i==null?void 0:i.user)!==null&&e!==void 0?e:ki()}else if(s&&!s.user&&!s.user){const i=await Qt(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await _t(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,s)):s.user=ki()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xi;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${xi}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),wi(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new St;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qo;const{data:o,error:i}=await this._refreshAccessToken(e);if(i)throw i;if(!o.session)throw new St;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),A(o)){const i={session:null,error:o};return wi(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=ou(s);await Sr(this.storage,this.storageKey,o)}else{const s=ou(r);await Sr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await _t(this.storage,this.storageKey),await _t(this.storage,this.storageKey+"-code-verifier"),await _t(this.storage,this.storageKey+"-user"),this.userStorage&&await _t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${_r}ms, refresh threshold is ${Na} ticks`),s<=Na&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await xr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=bi(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+bg>s)return n;const{data:o,error:i}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};n=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=bi(n);r!=null&&r.allowExpired||Wg(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const d=Vg(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,$g(`${l}.${c}`)))throw new Pa("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}}Xn.nextInstanceID=0;const l0=Xn;class c0 extends l0{constructor(e){super(e)}}var u0=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class d0{constructor(e,r,n){var s,o,i;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=mg(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:ag,realtime:cg,auth:Object.assign(Object.assign({},lg),{storageKey:u}),global:ig},f=yg(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=fg(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Py(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new ng(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new oy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return u0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c0({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Hy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const h0=(t,e,r)=>new d0(t,e,r);function f0(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}f0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const p0="https://gwpbbzjqharvfuuxxuek.supabase.co",m0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd3cGJiempxaGFydmZ1dXh4dWVrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2MTUzMDcsImV4cCI6MjA2OTE5MTMwN30.LSxPfuzvXOhY_leqIGm7DG7Frw1FLu_acqK6dRQ1g_k",B=h0(p0,m0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ef=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),y0=t=>/^0x[a-fA-F0-9]{40}$/.test(t),g0=t=>{try{return new URL(t),!0}catch{return!1}},v0=async(t,e,r,n)=>{const{data:s,error:o}=await B.from("cashback_submissions").select("id").eq("user_id",t).eq("prop_firm_id",e).eq("purchase_amount",r).eq("proof_url",n).neq("status","rejected").limit(1);return o?(console.error("Error checking duplicate submission:",o),!1):s&&s.length>0},uu={minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumbers:!0,requireSymbols:!0},x0=t=>{const e=[];return t.length<uu.minLength&&e.push(`Password must be at least ${uu.minLength} characters long`),/[A-Z]/.test(t)||e.push("Password must contain at least one uppercase letter"),/[a-z]/.test(t)||e.push("Password must contain at least one lowercase letter"),/\d/.test(t)||e.push("Password must contain at least one number"),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)||e.push("Password must contain at least one symbol (!@#$%^&* etc.)"),{isValid:e.length===0,errors:e}},tf=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t),rf=async(t,e)=>{try{const{data:r,error:n}=await B.from("rate_limits").select("attempts, window_start, blocked_until").eq("identifier",t).eq("action_type",e).single();if(n&&n.code!=="PGRST116")return console.error("Rate limit check error:",n),{allowed:!0};if(!r)return{allowed:!0};const s=new Date,o=new Date(r.window_start),i=10*60*1e3;if(r.blocked_until&&new Date(r.blocked_until)>s)return{allowed:!1,remainingAttempts:0,resetTime:new Date(r.blocked_until)};if(s.getTime()-o.getTime()>i)return await B.from("rate_limits").update({attempts:0,window_start:s.toISOString(),blocked_until:null,updated_at:s.toISOString()}).eq("identifier",t).eq("action_type",e),{allowed:!0};const l=5;if(r.attempts>=l){const c=new Date(s.getTime()+i);return await B.from("rate_limits").update({blocked_until:c.toISOString(),updated_at:s.toISOString()}).eq("identifier",t).eq("action_type",e),{allowed:!1,remainingAttempts:0,resetTime:c}}return{allowed:!0,remainingAttempts:l-r.attempts}}catch(r){return console.error("Rate limit check failed:",r),{allowed:!0}}},vo=async(t,e)=>{try{const r=new Date,{data:n,error:s}=await B.from("rate_limits").select("attempts").eq("identifier",t).eq("action_type",e).single();s&&s.code==="PGRST116"?await B.from("rate_limits").insert({identifier:t,action_type:e,attempts:1,window_start:r.toISOString()}):!s&&n&&await B.from("rate_limits").update({attempts:n.attempts+1,updated_at:r.toISOString()}).eq("identifier",t).eq("action_type",e)}catch(r){console.error("Failed to record rate limit attempt:",r)}},dr=async(t,e,r,n,s)=>{try{await B.rpc("log_audit_event",{user_uuid:t,action_type_param:e,details_param:r?JSON.stringify(r):null,ip_address_param:n,user_agent_param:s})}catch(o){console.error("Failed to log audit event:",o)}},hr=()=>"client-ip-unknown",w0=async(t,e)=>{var s;if(!tf(t))throw new Error("Please enter a valid email address");const r=x0(e);if(!r.isValid)throw new Error(r.errors.join(". "));const n=await rf(t,"signup");if(!n.allowed){const o=n.resetTime,i=o?Math.ceil((o.getTime()-Date.now())/(1e3*60)):10;throw new Error(`Too many signup attempts. Please try again in ${i} minutes.`)}try{const{data:o,error:i}=await B.auth.signUp({email:t,password:e,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(i)throw await vo(t,"signup"),await dr(null,"signup_failed",{email:t,error:i.message},hr(),navigator.userAgent),i;return await dr(((s=o.user)==null?void 0:s.id)||null,"signup_success",{email:t},hr(),navigator.userAgent),o}catch(o){throw await vo(t,"signup"),o}},b0=async(t,e)=>{var n;if(!tf(t))throw new Error("Please enter a valid email address");const r=await rf(t,"login");if(!r.allowed){const s=r.resetTime,o=s?Math.ceil((s.getTime()-Date.now())/(1e3*60)):10;throw new Error(`Too many login attempts. Please try again in ${o} minutes.`)}try{const{data:s,error:o}=await B.auth.signInWithPassword({email:t,password:e});if(o)throw await vo(t,"login"),await dr(null,"login_failed",{email:t,error:o.message},hr(),navigator.userAgent),o;return await dr(((n=s.user)==null?void 0:n.id)||null,"login_success",{email:t},hr(),navigator.userAgent),s}catch(s){throw await vo(t,"login"),s}},k0=async()=>{var t,e;try{const{data:{user:r}}=await B.auth.getUser(),{error:n}=await B.auth.signOut();if(n){if(n.code==="session_not_found"||(t=n.message)!=null&&t.includes("Auth session missing")||(e=n.message)!=null&&e.includes("Session from session_id claim in JWT does not exist"))return;throw n}r&&await dr(r.id,"logout_success",{email:r.email},hr(),navigator.userAgent)}catch(r){throw console.error("Logout error:",r),r}},_0=t=>B.auth.onAuthStateChange(async(e,r)=>{const n=(r==null?void 0:r.user)||null;n&&e==="SIGNED_IN"&&await dr(n.id,"auth_state_changed",{event:e,email:n.email},hr(),navigator.userAgent),t(n)}),S0={FROM_EMAIL:"noreply@propmate.com",FROM_NAME:"PropMate",SUPPORT_EMAIL:"support@propmate.com",ADMIN_EMAIL:"admin@propmate.com"},Si={welcome:t=>({subject:"Welcome to PropMate!",html:`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #8B5A9F;">Welcome to PropMate, ${t}!</h1>
        <p>Thank you for joining our community of smart traders who save money on prop firm challenges.</p>
        <h2>What's Next?</h2>
        <ul>
          <li>Browse our featured prop firms</li>
          <li>Purchase challenges through our affiliate links</li>
          <li>Submit your cashback requests</li>
          <li>Get paid in crypto!</li>
        </ul>
        <p>If you have any questions, feel free to reach out to our support team.</p>
        <p>Happy trading!</p>
        <p>The PropMate Team</p>
      </div>
    `,text:`Welcome to PropMate, ${t}! Thank you for joining our community of smart traders who save money on prop firm challenges. Browse our featured prop firms, purchase challenges through our affiliate links, submit your cashback requests, and get paid in crypto! If you have any questions, feel free to reach out to our support team. Happy trading! The PropMate Team`}),statusChange:(t,e,r,n)=>({subject:`Cashback Request ${e.charAt(0).toUpperCase()+e.slice(1)} - PropMate`,html:`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #8B5A9F;">Cashback Request Update</h1>
        <p>Hi ${t},</p>
        <p>Your cashback request for <strong>${n}</strong> has been <strong>${e}</strong>.</p>
        ${e==="paid"?`
          <div style="background: #f0f9ff; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h2 style="color: #0369a1; margin-top: 0;">Payment Processed!</h2>
            <p>Amount: <strong>$${r.toFixed(2)}</strong></p>
            <p>Your cashback has been sent to your crypto wallet. Please allow up to 24 hours for the transaction to appear in your wallet.</p>
          </div>
        `:e==="rejected"?`
          <div style="background: #fef2f2; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h2 style="color: #dc2626; margin-top: 0;">Request Rejected</h2>
            <p>Unfortunately, we couldn't process your cashback request. This may be due to:</p>
            <ul>
              <li>Invalid proof of purchase</li>
              <li>Purchase not made through our affiliate link</li>
              <li>Duplicate submission</li>
            </ul>
            <p>Please contact support if you believe this was an error.</p>
          </div>
        `:""}
        <p>You can view all your requests in your dashboard.</p>
        <p>Best regards,<br>The PropMate Team</p>
      </div>
    `,text:`Hi ${t}, Your cashback request for ${n} has been ${e}. ${e==="paid"?`Amount: $${r.toFixed(2)}. Your cashback has been sent to your crypto wallet.`:e==="rejected"?"Unfortunately, we couldn't process your cashback request. Please contact support if you believe this was an error.":""} You can view all your requests in your dashboard. Best regards, The PropMate Team`}),confirmation:(t,e,r)=>({subject:"Cashback Request Received - PropMate",html:`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #8B5A9F;">Cashback Request Received</h1>
        <p>Hi ${t},</p>
        <p>We've received your cashback request for <strong>${e}</strong>.</p>
        <div style="background: #f9fafb; padding: 20px; border-radius: 8px; margin: 20px 0;">
          <h2 style="margin-top: 0;">Request Details</h2>
          <p><strong>Prop Firm:</strong> ${e}</p>
          <p><strong>Purchase Amount:</strong> $${r.toFixed(2)}</p>
          <p><strong>Status:</strong> Under Review</p>
        </div>
        <p>We'll review your request and process it within 5-7 business days. You'll receive an email notification once the status changes.</p>
        <p>Thank you for using PropMate!</p>
        <p>The PropMate Team</p>
      </div>
    `,text:`Hi ${t}, We've received your cashback request for ${e}. Purchase Amount: $${r.toFixed(2)}. Status: Under Review. We'll review your request and process it within 5-7 business days. You'll receive an email notification once the status changes. Thank you for using PropMate! The PropMate Team`})},j0=async(t,e,r,n,s="manual",o=!1)=>{try{await B.from("user_communications").insert({user_id:e,user_email:t,subject:r,message:n,communication_type:s,sent_by_admin:o,sent_at:new Date().toISOString()})}catch(i){console.error("Error logging email communication:",i)}},Ts=(t,e,r,n,s)=>`
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${t}</title>
      <style>
        body { 
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; 
          line-height: 1.6; 
          color: #333; 
          max-width: 600px; 
          margin: 0 auto; 
          padding: 20px; 
          background-color: #f8f9fa;
        }
        .container {
          background: white;
          border-radius: 12px;
          overflow: hidden;
          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .header { 
          background: linear-gradient(135deg, #8B5A9F 0%, #6B46C1 100%); 
          color: white; 
          padding: 30px 20px; 
          text-align: center; 
        }
        .content { 
          padding: 30px 20px; 
        }
        .footer { 
          background: #f8f9fa; 
          padding: 20px; 
          text-align: center; 
          font-size: 14px; 
          color: #6c757d; 
          border-top: 1px solid #e9ecef;
        }
        .cta-button { 
          display: inline-block; 
          background: #28a745; 
          color: white; 
          padding: 12px 24px; 
          text-decoration: none; 
          border-radius: 6px; 
          font-weight: bold; 
          margin: 20px 0; 
        }
        .highlight { 
          background: #e3f2fd; 
          padding: 15px; 
          border-left: 4px solid #2196f3; 
          margin: 20px 0; 
          border-radius: 4px;
        }
        .warning { 
          background: #fff3cd; 
          padding: 15px; 
          border-left: 4px solid #ffc107; 
          margin: 20px 0; 
          border-radius: 4px;
        }
        .success { 
          background: #d4edda; 
          padding: 15px; 
          border-left: 4px solid #28a745; 
          margin: 20px 0; 
          border-radius: 4px;
        }
        .error { 
          background: #f8d7da; 
          padding: 15px; 
          border-left: 4px solid #dc3545; 
          margin: 20px 0; 
          border-radius: 4px;
        }
      </style>
    </head>
    <body>
      <div class="container">
        <div class="header">
          <h1 style="margin: 0; font-size: 28px;">PropMate</h1>
          <p style="margin: 10px 0 0 0; font-size: 16px; opacity: 0.9;">Your Cashback Trading Partner</p>
        </div>
        <div class="content">
          ${e}
          ${r&&n?`<div style="text-align: center;"><a href="${n}" class="cta-button">${r}</a></div>`:""}
        </div>
        <div class="footer">
          <p>Thank you for choosing PropMate for your trading cashback needs.</p>
          <p>
            <a href="mailto:${S0.SUPPORT_EMAIL}" style="color: #6c757d;">Contact Support</a> | 
            <a href="#" style="color: #6c757d;">Unsubscribe</a>
          </p>
          <p style="font-size: 12px; margin-top: 15px;">
            © ${new Date().getFullYear()} PropMate. All rights reserved.
          </p>
        </div>
      </div>
    </body>
    </html>
  `,er=class er{constructor(){Ho(this,"emailHistory",[])}static getInstance(){return er.instance||(er.instance=new er),er.instance}async sendEmail(e){try{return console.log("📧 Sending email:",{to:e.to,subject:e.subject,type:e.type}),await j0(e.to,e.userId||null,e.subject,e.text.substring(0,500),e.type,!1),await dr(e.userId||null,"email_sent",null,null,null,{to:e.to,subject:e.subject,type:e.type,html_length:e.html.length},hr(),typeof navigator<"u"?navigator.userAgent:"server"),this.emailHistory.push({...e,type:e.type}),await new Promise(r=>setTimeout(r,500)),{success:!0,messageId:`sim_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}catch(r){return console.error("Error sending email:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async sendWelcomeEmail(e,r,n){const s=Si.welcome(r);return this.sendEmail({to:e,subject:s.subject,html:s.html,text:s.text,type:"welcome",userId:n})}async sendStatusChangeEmail(e,r,n,s,o,i){const l=Si.statusChange(r,n,s,o);return this.sendEmail({to:e,subject:l.subject,html:l.html,text:l.text,type:"status_change",userId:i})}async sendConfirmationEmail(e,r,n,s,o){const i=Si.confirmation(r,n,s);return this.sendEmail({to:e,subject:i.subject,html:i.html,text:i.text,type:"status_change",userId:o})}async sendCustomEmail(e,r,n,s){return this.sendEmail({to:e,subject:r,html:`<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">${n.replace(/\n/g,"<br>")}</div>`,text:n,type:"manual",userId:s})}async sendEnhancedWelcomeEmail(e,r,n){const s=`
      <h2>Welcome ${r}! 🎉</h2>
      <p>Thank you for joining PropMate, the premier platform for prop firm cashback rewards.</p>
      
      <div class="highlight">
        <h3>🚀 Get Started in 3 Easy Steps:</h3>
        <ol>
          <li><strong>Browse Prop Firms:</strong> Explore our curated list of top prop trading firms</li>
          <li><strong>Use Our Links:</strong> Purchase through our referral links to qualify for cashback</li>
          <li><strong>Submit Requests:</strong> Upload your proof of purchase and claim your cashback</li>
        </ol>
      </div>
      
      <h3>💰 How It Works:</h3>
      <p>We partner with prop firms to offer you the best discounts available, plus up to 50% cashback on our affiliate commissions. It's a win-win!</p>
      
      <div class="success">
        <p><strong>Pro Tip:</strong> Always use our referral links to ensure your cashback is tracked properly.</p>
      </div>
      
      <p>Ready to start earning? Log in to your dashboard and explore our prop firm directory.</p>
      <p>Happy trading!<br><strong>The PropMate Team</strong></p>
    `,o=Ts("Welcome to PropMate",s,"View Prop Firms","#"),i=`Welcome ${r}! Thank you for joining PropMate. Get started: 1) Browse prop firms, 2) Use our links, 3) Submit requests. We offer up to 50% cashback on affiliate commissions. Always use our referral links for proper tracking. Happy trading! The PropMate Team`;return this.sendEmail({to:e,subject:"Welcome to PropMate - Start Earning Cashback Today!",html:o,text:i,type:"welcome",userId:n})}async sendRequestApprovedEmail(e,r,n){const s=`
      <h2>🎉 Cashback Request Approved!</h2>
      <p>Great news! Your cashback request has been approved and is ready for payment.</p>
      
      <div class="success">
        <h3>💰 Approved Cashback:</h3>
        <ul>
          <li><strong>Prop Firm:</strong> ${r.firmName}</li>
          <li><strong>Purchase Amount:</strong> $${r.purchaseAmount.toFixed(2)}</li>
          <li><strong>Cashback Amount:</strong> $${r.cashbackAmount.toFixed(2)}</li>
          <li><strong>Wallet Address:</strong> ${r.walletAddress.substring(0,10)}...${r.walletAddress.substring(r.walletAddress.length-10)}</li>
        </ul>
      </div>
      
      <h3>💸 Payment Process:</h3>
      <p>Your cashback will be processed within 1-2 business days. You'll receive another email with the transaction hash once the payment is sent.</p>
      
      <div class="highlight">
        <p><strong>Payment Method:</strong> Cryptocurrency transfer to your provided wallet address</p>
      </div>
      
      <p>Thank you for choosing PropMate for your cashback needs!</p>
    `,o=Ts("Cashback Approved",s,"View Dashboard","#"),i=`Cashback approved! ${r.firmName} - $${r.cashbackAmount.toFixed(2)} will be sent to your wallet within 1-2 business days.`;return this.sendEmail({to:e,subject:`Cashback Approved - $${r.cashbackAmount.toFixed(2)} from ${r.firmName}`,html:o,text:i,type:"status_change",userId:n})}async sendPaymentSentEmail(e,r,n){const s=`
      <h2>🚀 Payment Sent Successfully!</h2>
      <p>Your cashback payment has been sent to your wallet. Here are the transaction details:</p>
      
      <div class="success">
        <h3>💰 Payment Details:</h3>
        <ul>
          <li><strong>Amount:</strong> $${r.amount.toFixed(2)}</li>
          <li><strong>Prop Firm:</strong> ${r.firmName}</li>
          <li><strong>Wallet Address:</strong> ${r.walletAddress}</li>
          <li><strong>Transaction Hash:</strong> <code style="word-break: break-all; background: #f8f9fa; padding: 2px 4px; border-radius: 3px;">${r.transactionHash}</code></li>
        </ul>
      </div>
      
      <h3>🔍 Verify Your Transaction:</h3>
      <p>You can verify this transaction on the blockchain using the transaction hash above. Depending on network congestion, it may take a few minutes to appear in your wallet.</p>
      
      <div class="highlight">
        <p><strong>Keep This Email:</strong> Save this email as proof of payment for your records.</p>
      </div>
      
      <p>Thank you for using PropMate! We hope to process more cashback rewards for you soon.</p>
    `,o=Ts("Payment Sent",s,"View Dashboard","#"),i=`Payment sent! $${r.amount.toFixed(2)} from ${r.firmName} sent to ${r.walletAddress}. Transaction: ${r.transactionHash}`;return this.sendEmail({to:e,subject:`Payment Sent - $${r.amount.toFixed(2)} Cashback`,html:o,text:i,type:"status_change",userId:n})}async sendBulkEmail(e,r,n,s,o){const i={sent:0,failed:0,errors:[]};for(const l of e)try{const c=n.replace(/\{name\}/g,l.name||l.email.split("@")[0]),u=Ts("PropMate Update",c,s,o),d=c.replace(/<[^>]*>/g,""),f=await this.sendEmail({to:l.email,subject:r,html:u,text:d,type:"broadcast",userId:l.userId});f.success?i.sent++:(i.failed++,i.errors.push(`${l.email}: ${f.error}`)),await new Promise(h=>setTimeout(h,100))}catch(c){i.failed++,i.errors.push(`${l.email}: ${c instanceof Error?c.message:"Unknown error"}`)}return i}getEmailHistory(){return this.emailHistory}};Ho(er,"instance");let Ta=er;const N0=Ta.getInstance();function C0({isOpen:t,onClose:e,propFirm:r,user:n}){const{theme:s}=Xe(),[o,i]=P.useState({name:"",email:(n==null?void 0:n.email)||"",purchaseAmount:"",proofUrl:"",walletAddress:""}),[l,c]=P.useState(!1),[u,d]=P.useState(!1),[f,h]=P.useState(""),[g,v]=P.useState({});qr.useEffect(()=>{n!=null&&n.email&&i(p=>({...p,email:n.email}))},[n]),qr.useEffect(()=>{t?(v({}),h(""),d(!1)):(i({name:"",email:(n==null?void 0:n.email)||"",purchaseAmount:"",proofUrl:"",walletAddress:""}),v({}),h(""),d(!1))},[t,n]);const x=()=>{const p={};if(o.name.trim()?o.name.trim().length<2&&(p.name="Name must be at least 2 characters"):p.name="Full name is required",o.email.trim()?ef(o.email)||(p.email="Please enter a valid email address"):p.email="Email address is required",!o.purchaseAmount)p.purchaseAmount="Purchase amount is required";else{const y=parseFloat(o.purchaseAmount);isNaN(y)||y<=0?p.purchaseAmount="Please enter a valid amount greater than 0":y>1e5&&(p.purchaseAmount="Amount seems unusually high. Please verify.")}return o.proofUrl.trim()?g0(o.proofUrl)||(p.proofUrl="Please enter a valid URL"):p.proofUrl="Proof of purchase is required",o.walletAddress.trim()?y0(o.walletAddress)||(p.walletAddress="Please enter a valid Ethereum address (0x...)"):p.walletAddress="Crypto wallet address is required",v(p),Object.keys(p).length===0},_=async p=>{if(p.preventDefault(),!!r&&x()){c(!0),h("");try{if(n&&await v0(n.id,r.id,parseFloat(o.purchaseAmount),o.proofUrl)){v({duplicate:"You have already submitted a request for this purchase. Please check your dashboard."});return}const{error:y}=await B.from("cashback_submissions").insert({name:o.name.trim(),email:o.email.trim(),prop_firm_id:r.id,purchase_amount:parseFloat(o.purchaseAmount),proof_url:o.proofUrl.trim(),wallet_address:o.walletAddress.trim(),user_id:(n==null?void 0:n.id)||null});if(y)throw y;try{await N0.sendConfirmationEmail(o.email.trim(),o.name.trim(),r.name,parseFloat(o.purchaseAmount))}catch(w){console.error("Error sending confirmation email:",w)}d(!0),i({name:"",email:(n==null?void 0:n.email)||"",purchaseAmount:"",proofUrl:"",walletAddress:""})}catch(y){h(y instanceof Error?y.message:"An error occurred while submitting your request")}finally{c(!1)}}},m=p=>{const{name:y,value:w}=p.target;i(b=>({...b,[y]:w})),g[y]&&v(b=>({...b,[y]:void 0}))};return t?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(50px)"},children:a.jsxs("div",{className:"p-6 sm:p-8 max-w-2xl w-full max-h-[95vh] overflow-y-auto rounded-2xl border",style:{backgroundColor:s.cardBackground,backdropFilter:"blur(50px)",WebkitBackdropFilter:"blur(50px)",borderColor:s.cardBorder,boxShadow:`${s.cardShadow}, 0 0 0 1px rgba(255, 255, 255, 0.05)`},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 sm:space-x-4",children:[r&&a.jsx("img",{src:r.logo_url,alt:`${r.name} logo`,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-2xl object-cover border",style:{borderColor:s.cardBorder}}),a.jsxs("div",{children:[a.jsx("h2",{className:"typography-h4",style:{color:s.textPrimary},children:"Claim Cashback"}),a.jsx("p",{className:"typography-small sm:typography-body",style:{color:s.textSecondary},children:r==null?void 0:r.name})]})]}),a.jsx("button",{onClick:e,className:"p-2 rounded-2xl transition-colors hover:bg-opacity-80",style:{backgroundColor:s.cardBackground},children:a.jsx(Yr,{className:"h-5 w-5 sm:h-6 sm:w-6",style:{color:s.textSecondary}})})]}),n&&a.jsx("div",{className:"p-3 sm:p-4 mb-4 sm:mb-6 rounded-2xl border",style:{backgroundColor:`${s.accent}10`,borderColor:`${s.accent}20`},children:a.jsxs("p",{className:"typography-small font-semibold",style:{color:s.accent},children:["✓ Signed in as ",a.jsx("strong",{children:n.email})]})}),u?a.jsxs("div",{className:"text-center py-8 sm:py-12",children:[a.jsx(Jn,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto mb-4 sm:mb-6",style:{color:s.accent}}),a.jsx("h3",{className:"typography-h4 mb-3 sm:mb-4",style:{color:s.textPrimary},children:"Submission Received"}),a.jsx("p",{className:"typography-body mb-6 sm:mb-8 leading-relaxed px-4",style:{color:s.textSecondary},children:"Your cashback request has been submitted successfully. We'll review it and process your payment within 5-7 business days. You should receive a confirmation email shortly."}),a.jsx("button",{onClick:e,className:"px-6 sm:px-8 py-3 rounded-2xl typography-ui font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:s.cta,color:s.ctaText,boxShadow:`0 4px 16px ${s.cta}40`},children:"Done"})]}):a.jsxs("form",{onSubmit:_,className:"space-y-4 sm:space-y-6",children:[f&&a.jsxs("div",{className:"p-3 sm:p-4 rounded-2xl border flex items-start space-x-3",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.2)"},children:[a.jsx(mo,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#dc2626"}}),a.jsx("p",{className:"typography-small sm:typography-ui font-semibold",style:{color:"#dc2626"},children:f})]}),g.duplicate&&a.jsxs("div",{className:"p-3 sm:p-4 rounded-2xl border flex items-start space-x-3",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.2)"},children:[a.jsx(mo,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#dc2626"}}),a.jsx("p",{className:"typography-small sm:typography-ui font-semibold",style:{color:"#dc2626"},children:g.duplicate})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:s.textPrimary},children:"Full Name *"}),a.jsx("input",{type:"text",name:"name",value:o.name,onChange:m,required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-2xl border focus:ring-2 focus:border-transparent transition-all typography-small sm:typography-body",style:{backgroundColor:s.cardBackground,backdropFilter:"blur(10px)",borderColor:g.name?"#dc2626":s.cardBorder,color:s.textPrimary},placeholder:"Enter your full name"}),g.name&&a.jsx("p",{className:"mt-1 typography-small",style:{color:"#dc2626"},children:g.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:s.textPrimary},children:"Email Address *"}),a.jsx("input",{type:"email",name:"email",value:o.email,onChange:m,required:!0,disabled:!!n,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-2xl border focus:ring-2 focus:border-transparent transition-all disabled:opacity-50 typography-small sm:typography-body",style:{backgroundColor:s.cardBackground,backdropFilter:"blur(10px)",borderColor:g.email?"#dc2626":s.cardBorder,color:s.textPrimary},placeholder:"Enter your email"}),g.email&&a.jsx("p",{className:"mt-1 typography-small",style:{color:"#dc2626"},children:g.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:s.textPrimary},children:"Purchase Amount (USD) *"}),a.jsx("input",{type:"number",name:"purchaseAmount",value:o.purchaseAmount,onChange:m,required:!0,min:"0",step:"0.01",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-2xl border focus:ring-2 focus:border-transparent transition-all typography-small sm:typography-body",style:{backgroundColor:s.cardBackground,backdropFilter:"blur(10px)",borderColor:g.purchaseAmount?"#dc2626":s.cardBorder,color:s.textPrimary},placeholder:"Enter the amount you paid"}),g.purchaseAmount&&a.jsx("p",{className:"mt-1 typography-small",style:{color:"#dc2626"},children:g.purchaseAmount})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:s.textPrimary},children:"Proof of Purchase *"}),a.jsx("input",{type:"url",name:"proofUrl",value:o.proofUrl,onChange:m,required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-2xl border focus:ring-2 focus:border-transparent transition-all typography-small sm:typography-body",style:{backgroundColor:s.cardBackground,backdropFilter:"blur(10px)",borderColor:g.proofUrl?"#dc2626":s.cardBorder,color:s.textPrimary},placeholder:"https://example.com/your-receipt"}),g.proofUrl&&a.jsx("p",{className:"mt-1 typography-small",style:{color:"#dc2626"},children:g.proofUrl}),a.jsx("p",{className:"typography-small mt-2",style:{color:s.textSecondary},children:"Upload your receipt to Google Drive, Dropbox, or Imgur and paste the link here"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:s.textPrimary},children:"Crypto Wallet Address *"}),a.jsx("input",{type:"text",name:"walletAddress",value:o.walletAddress,onChange:m,required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 rounded-2xl border focus:ring-2 focus:border-transparent transition-all typography-small sm:typography-body font-mono",style:{backgroundColor:s.cardBackground,backdropFilter:"blur(10px)",borderColor:g.walletAddress?"#dc2626":s.cardBorder,color:s.textPrimary},placeholder:"0x..."}),g.walletAddress&&a.jsx("p",{className:"mt-1 typography-small",style:{color:"#dc2626"},children:g.walletAddress}),a.jsx("p",{className:"typography-small mt-2",style:{color:s.textSecondary},children:"We support USDT and USDC on Ethereum, BSC, and Polygon networks"})]}),a.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border",style:{backgroundColor:s.cardBackground,borderColor:s.cardBorder},children:[a.jsx("h4",{className:"typography-ui font-semibold mb-3 sm:mb-4",style:{color:s.textPrimary},children:"Cashback Summary"}),a.jsxs("div",{className:"space-y-2 typography-small",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{color:s.textSecondary},children:"Purchase Amount:"}),a.jsxs("span",{className:"font-semibold",style:{color:s.textPrimary},children:["$",o.purchaseAmount||"0"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{style:{color:s.textSecondary},children:"Cashback Rate:"}),a.jsxs("span",{className:"font-semibold",style:{color:s.textPrimary},children:[r==null?void 0:r.cashback_percentage,"%"]})]}),a.jsxs("div",{className:"flex justify-between pt-2 border-t font-semibold",style:{borderColor:s.cardBorder},children:[a.jsx("span",{style:{color:s.textSecondary},children:"You'll Receive:"}),a.jsxs("span",{style:{color:s.accent},children:["$",o.purchaseAmount?(parseFloat(o.purchaseAmount)*((r==null?void 0:r.cashback_percentage)||0)/100).toFixed(2):"0.00"]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 sm:px-6 py-2.5 sm:py-3 rounded-2xl typography-ui font-semibold border transition-all duration-200 hover:bg-opacity-80",style:{backgroundColor:s.cardBackground,borderColor:s.cardBorder,color:s.textSecondary},children:"Cancel"}),a.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 sm:px-6 py-2.5 sm:py-3 rounded-2xl typography-ui font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:brightness-110 flex items-center justify-center",style:{backgroundColor:s.cta,color:s.ctaText,boxShadow:`0 4px 16px ${s.cta}40`},children:l?a.jsxs(a.Fragment,{children:[a.jsx(Nh,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Request"})]})]})]})}):null}const E0=[{question:"How does the cashback system work?",answer:"After purchasing a prop firm challenge using our affiliate links, submit proof of purchase and your crypto wallet address via our Discord server or by emailing support@proptrading.com. Once verified, we'll send your cashback based on the processing time of the specific prop firm."},{question:"Which cryptocurrencies do you support for payouts?",answer:"We support USDT and USDC on the Binance Smart Chain (BSC), Solana, Arbitrum, and Polygon networks. Be sure to specify your preferred network when submitting your wallet address."},{question:"How long does it take to receive my cashback?",answer:"Purchase verification typically takes 1–2 business days. After that, the payout timeline depends on the specific prop firm. You'll receive a confirmation email once your cashback has been sent."},{question:"Can I get cashback on any prop firm purchase?",answer:"Cashback is only eligible for purchases made through our affiliate links from the listed prop firms on this site. Please click the 'Purchase' button on our site before making your purchase. We're not responsible for any cookie issues or missed affiliate tracking."},{question:"What proof of purchase is required?",answer:"Accepted proof includes a screenshot of your confirmation email, receipt, or account dashboard showing the transaction. Submit your proof via our Discord server or email us at support@proptrading.com."},{question:"Is there a minimum purchase amount to qualify for cashback?",answer:"No, there's no minimum purchase requirement. You'll receive the stated cashback percentage for any qualifying purchase, regardless of the amount."},{question:"Is there a minimum payout threshold?",answer:"Yes, the minimum payout is $50. If your cashback is below that, it will carry over to future payouts. If you're buying smaller accounts (e.g., $5,000) and find it difficult to reach $50, you can choose to either forfeit your cashback in exchange for access to exclusive account giveaways, or use your accumulated cashback to purchase a new prop firm account, provided the cashback amount matches the price of an account from any of our partnered firms."}];function P0(){const[t,e]=P.useState(0),{theme:r}=Xe(),n=s=>{e(t===s?null:s)};return a.jsx("section",{id:"faq",className:"py-16 sm:py-24",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12 sm:mb-16 w-full max-w-5xl mx-auto flex flex-col items-center justify-center p-6 md:p-8 gap-6",style:{position:"relative",minHeight:"150px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",style:{color:r.textPrimary},children:"Frequently Asked Questions"}),a.jsx("p",{className:"text-base md:text-lg",style:{color:r.textSecondary},children:"Everything you need to know about our cashback program"})]}),a.jsx("div",{className:"space-y-4",children:E0.map((s,o)=>a.jsxs("div",{className:"w-full max-w-5xl mx-auto overflow-hidden",style:{position:"relative",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsxs("button",{onClick:()=>n(o),className:"w-full text-left flex items-center justify-between transition-colors hover:bg-opacity-80 p-4 md:p-8 gap-4 md:gap-6",style:{position:"relative",minHeight:"80px",background:t===o?"rgba(151, 86, 125, 0.1)":"transparent"},children:[a.jsx("h4",{className:"text-lg md:text-xl font-bold pr-4 text-left",style:{color:r.textPrimary},children:s.question}),t===o?a.jsx(Mm,{className:"h-5 w-5 flex-shrink-0",style:{color:r.accent}}):a.jsx(Dm,{className:"h-5 w-5 flex-shrink-0",style:{color:r.accent}})]}),t===o&&a.jsx("div",{className:"w-full p-4 md:p-8",style:{boxSizing:"border-box",position:"relative",minHeight:"120px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:a.jsx("p",{className:"text-sm md:text-base leading-relaxed",style:{color:r.textSecondary},children:s.answer})})]},o))}),a.jsxs("div",{className:"text-center mt-8 sm:mt-12 w-full max-w-5xl mx-auto",style:{position:"relative",minHeight:"121px",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"31px 42px"},children:[a.jsx("p",{className:"text-base mb-4",style:{color:r.textSecondary},children:"Still have questions?"}),a.jsx("a",{href:"https://discord.gg/proptrading",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-6 py-3 rounded-2xl font-semibold transition-all duration-200 hover:brightness-110",style:{backgroundColor:r.cta,color:r.ctaText,boxShadow:`0 4px 16px ${r.cta}40`},children:"Ask in Discord"})]})]})})}function T0({isOpen:t,onClose:e,user:r}){const{theme:n}=Xe(),[s,o]=P.useState("overview"),[i,l]=P.useState(!0),[c,u]=P.useState(!1),d=P.useRef(null),f=P.useRef(null),[h,g]=P.useState([]),[v,x]=P.useState([]),[_,m]=P.useState([]),[p,y]=P.useState([]),[w,b]=P.useState([]),[j,N]=P.useState(null),[T,K]=P.useState(""),[I,be]=P.useState(""),[wt,bt]=P.useState(!1),[sn,as]=P.useState(null);P.useEffect(()=>{t&&r&&an()},[t,r]),P.useEffect(()=>{if(!i&&f.current){const k=window.innerHeight,de=Math.min(k*.9,800)-120;f.current.style.height=`${de}px`,f.current.style.minHeight=`${de}px`,f.current.style.maxHeight=`${de}px`}},[i]);const on=k=>{k===s||c||(u(!0),d.current&&(d.current.style.opacity="0",d.current.style.transform="translateY(10px)"),setTimeout(()=>{o(k),setTimeout(()=>{d.current&&(d.current.style.opacity="1",d.current.style.transform="translateY(0)"),u(!1)},50)},200))},an=async()=>{l(!0);try{await Promise.all([C(),$(),O(),Q(),te()])}catch(k){console.error("Error fetching admin data:",k)}finally{l(!1)}},C=async()=>{const{data:k,error:R}=await B.from("cashback_submissions").select(`
        *,
        prop_firms (
          name,
          logo_url,
          cashback_percentage,
          discount_percentage
        )
      `).order("created_at",{ascending:!1});if(R)throw R;g(k||[])},$=async()=>{const{data:k,error:R}=await B.from("payout_records").select("*").order("created_at",{ascending:!1});if(R)throw R;x(k||[])},O=async()=>{const{data:k,error:R}=await B.from("users").select("*").order("created_at",{ascending:!1});if(R)throw R;m(k||[])},Q=async()=>{const{data:k,error:R}=await B.from("revenue_analytics").select("*").order("month_year",{ascending:!1});if(R)throw R;y(k||[])},te=async()=>{const{data:k,error:R}=await B.from("user_savings_tracker").select("*").order("total_cashback_earned",{ascending:!1});if(R)throw R;b(k||[])},Vt=async(k,R)=>{try{const{error:L}=await B.from("cashback_submissions").update({status:R,updated_at:new Date().toISOString()}).eq("id",k);if(L)throw L;if(await C(),R==="paid"){const de=h.find(ls=>ls.id===k);de&&await ot(de)}}catch(L){console.error("Error updating submission status:",L),alert("Error updating submission status")}},ot=async k=>{var R;try{const L=k.purchase_amount*(((R=k.prop_firms)==null?void 0:R.cashback_percentage)||0)/100,{error:de}=await B.from("payout_records").insert({user_id:k.user_id,user_email:k.email,cashback_submission_ids:[k.id],payout_amount:L,crypto_wallet_address:k.wallet_address,status:"pending"});if(de)throw de;await $()}catch(L){console.error("Error creating payout record:",L)}},yr=async(k,R)=>{as(k);try{const{error:L}=await B.from("payout_records").update({status:"completed",transaction_hash:R,payout_date:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",k);if(L)throw L;await $()}catch(L){console.error("Error marking payout complete:",L),alert("Error updating payout status")}finally{as(null)}},it=async(k,R)=>{if(!T.trim()||!I.trim()){alert("Please enter both subject and message");return}bt(!0);try{const{error:L}=await B.from("user_communications").insert({user_id:k,user_email:R,subject:T,message:I,communication_type:"manual",sent_by_admin:!0});if(L)throw L;alert(`Email logged for ${R}. In production, this would send via email service.`),K(""),be(""),N(null)}catch(L){console.error("Error sending email:",L),alert("Error sending email")}finally{bt(!1)}},Kt=k=>{switch(k){case"paid":case"completed":return a.jsx(Jn,{className:"h-4 w-4",style:{color:n.accent}});case"rejected":case"failed":return a.jsx(Eh,{className:"h-4 w-4 text-red-500"});default:return a.jsx(ga,{className:"h-4 w-4 text-yellow-500"})}},$l=k=>{switch(k){case"paid":case"completed":return{backgroundColor:`${n.accent}10`,color:n.accent,borderColor:`${n.accent}20`};case"rejected":case"failed":return{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#dc2626",borderColor:"rgba(239, 68, 68, 0.2)"};default:return{backgroundColor:"rgba(234, 179, 8, 0.1)",color:"#ca8a04",borderColor:"rgba(234, 179, 8, 0.2)"}}},Ze=(()=>{const k=h.length,R=h.filter(Be=>Be.status==="pending").length,L=h.filter(Be=>Be.status==="paid").length,de=h.filter(Be=>Be.status==="paid").reduce((Be,cs)=>{var Rl;return Be+cs.purchase_amount*(((Rl=cs.prop_firms)==null?void 0:Rl.cashback_percentage)||0)/100},0),ls=v.filter(Be=>Be.status==="completed").reduce((Be,cs)=>Be+cs.payout_amount,0);return{totalRequests:k,pendingRequests:R,approvedRequests:L,totalCashbackOwed:de,totalCashbackPaid:ls,outstandingPayouts:de-ls}})();return t?a.jsxs("div",{className:"fixed inset-0 flex items-center justify-center p-2 sm:p-4 z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(20px)"},children:[a.jsxs("div",{className:"p-4 sm:p-6 max-w-7xl w-full flex flex-col",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px",height:"min(90vh, 800px)",maxHeight:"min(90vh, 800px)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 flex-shrink-0",children:[a.jsx("h2",{className:"typography-h4 sm:typography-h3",style:{color:n.textPrimary},children:"Admin Dashboard"}),a.jsx("button",{onClick:e,className:"p-2 rounded-2xl transition-colors hover:bg-opacity-80",style:{background:"rgba(151, 86, 125, 0.05)"},children:a.jsx(Yr,{className:"h-5 w-5 sm:h-6 sm:w-6",style:{color:n.textSecondary}})})]}),a.jsx("div",{className:"flex space-x-1 mb-4 sm:mb-6 p-1 overflow-x-auto flex-shrink-0 scrollbar-hide",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px",msOverflowStyle:"none",scrollbarWidth:"none"},children:[{id:"overview",label:"Overview",icon:jh},{id:"users",label:"Users",icon:Hc},{id:"payouts",label:"Payouts",icon:zm},{id:"analytics",label:"Analytics",icon:Lo},{id:"communications",label:"Communications",icon:qs}].map(k=>a.jsxs("button",{onClick:()=>on(k.id),disabled:c,className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 rounded-xl typography-small sm:typography-ui font-semibold transition-all whitespace-nowrap disabled:opacity-50",style:s===k.id?{backgroundColor:`${n.accent}20`,color:n.accent,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}:{color:n.textSecondary},children:[a.jsx(k.icon,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:k.label}),a.jsx("span",{className:"sm:hidden",children:k.label.slice(0,4)})]},k.id))}),a.jsx("div",{ref:f,className:"flex-1 overflow-hidden",style:{transition:"none"},children:a.jsx("div",{ref:d,className:"h-full overflow-y-auto transition-all duration-200 ease-in-out",style:{opacity:1,transform:"translateY(0)"},children:i?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:n.accent}})}):a.jsxs(a.Fragment,{children:[s==="overview"&&a.jsxs("div",{className:"space-y-4 sm:space-y-6 animate-fadeIn h-full",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[a.jsxs("div",{className:"p-3 sm:p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-2",children:[a.jsx(Bm,{className:"h-4 w-4 sm:h-5 sm:w-5",style:{color:n.accent}}),a.jsx("span",{className:"typography-small sm:typography-ui font-semibold",style:{color:n.textSecondary},children:"Total Requests"})]}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold",style:{color:n.textPrimary},children:Ze.totalRequests})]}),a.jsxs("div",{className:"p-3 sm:p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-2",children:[a.jsx(ga,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500"}),a.jsx("span",{className:"typography-small sm:typography-ui font-semibold",style:{color:n.textSecondary},children:"Pending"})]}),a.jsx("div",{className:"text-xl sm:text-2xl font-bold",style:{color:n.textPrimary},children:Ze.pendingRequests})]}),a.jsxs("div",{className:"p-3 sm:p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-2",children:[a.jsx(Yn,{className:"h-4 w-4 sm:h-5 sm:w-5",style:{color:n.accent}}),a.jsx("span",{className:"typography-small sm:typography-ui font-semibold",style:{color:n.textSecondary},children:"Cashback Owed"})]}),a.jsxs("div",{className:"text-xl sm:text-2xl font-bold",style:{color:n.textPrimary},children:["$",Ze.totalCashbackOwed.toFixed(2)]})]}),a.jsxs("div",{className:"p-3 sm:p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 mb-2",children:[a.jsx(Jn,{className:"h-4 w-4 sm:h-5 sm:w-5",style:{color:n.accent}}),a.jsx("span",{className:"typography-small sm:typography-ui font-semibold",style:{color:n.textSecondary},children:"Cashback Paid"})]}),a.jsxs("div",{className:"text-xl sm:text-2xl font-bold",style:{color:n.textPrimary},children:["$",Ze.totalCashbackPaid.toFixed(2)]})]})]}),a.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border flex-1 overflow-hidden",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsx("h3",{className:"typography-ui sm:typography-h4 mb-4",style:{color:n.textPrimary},children:"Recent Submissions"}),a.jsx("div",{className:"space-y-4 overflow-y-auto max-h-96",children:h.slice(0,5).map(k=>{var R,L;return a.jsxs("div",{className:"p-4 rounded-xl border",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:((R=k.prop_firms)==null?void 0:R.logo_url)||"",alt:"Prop firm logo",className:"w-8 h-8 rounded-lg object-cover"}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-ui font-semibold",style:{color:n.textPrimary},children:k.name}),a.jsx("p",{className:"typography-small",style:{color:n.textSecondary},children:(L=k.prop_firms)==null?void 0:L.name})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"typography-ui font-bold",style:{color:n.accent},children:["$",k.purchase_amount.toFixed(2)]}),a.jsxs("span",{className:"px-3 py-1 rounded-full typography-small font-semibold border flex items-center",style:$l(k.status),children:[Kt(k.status),a.jsx("span",{className:"ml-1 capitalize",children:k.status})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Email"}),a.jsx("p",{className:"typography-small break-all",style:{color:n.textPrimary},children:k.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Submitted"}),a.jsxs("p",{className:"typography-small",style:{color:n.textPrimary},children:[new Date(k.created_at).toLocaleDateString()," at ",new Date(k.created_at).toLocaleTimeString()]})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Proof of Purchase"}),a.jsx("a",{href:k.proof_url,target:"_blank",rel:"noopener noreferrer",className:"typography-small break-all text-blue-500 hover:text-blue-600 underline",children:k.proof_url})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Wallet Address"}),a.jsx("p",{className:"font-mono typography-small break-all p-2 rounded border",style:{color:n.textPrimary,backgroundColor:`${n.cardBackground}80`,border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:k.wallet_address})]})]}),k.status==="pending"&&a.jsxs("div",{className:"flex space-x-3 pt-3 border-t",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsx("button",{onClick:()=>Vt(k.id,"paid"),className:"flex-1 px-4 py-2 rounded-lg typography-small font-semibold transition-colors",style:{backgroundColor:n.accent,color:n.ctaText},children:"Approve"}),a.jsx("button",{onClick:()=>Vt(k.id,"rejected"),className:"flex-1 px-4 py-2 rounded-lg typography-small font-semibold transition-colors bg-red-500 text-white",children:"Reject"})]})]},k.id)})})]})]}),s==="users"&&a.jsx("div",{className:"space-y-4 sm:space-y-6 animate-fadeIn h-full",children:a.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border flex-1 overflow-hidden",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsxs("h3",{className:"typography-ui sm:typography-h4 mb-4",style:{color:n.textPrimary},children:["Registered Users (",_.length,")"]}),a.jsx("div",{className:"space-y-3 overflow-y-auto max-h-full",children:_.map(k=>{const R=h.filter(de=>de.user_id===k.id),L=w.find(de=>de.user_id===k.id);return a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between p-3 sm:p-4 rounded-xl border space-y-3 lg:space-y-0",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:`${n.accent}20`},children:a.jsx(Hc,{className:"h-3 w-3 sm:h-4 sm:w-4",style:{color:n.accent}})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"typography-small sm:typography-ui font-semibold break-all",style:{color:n.textPrimary},children:k.email}),a.jsxs("p",{className:"typography-small",style:{color:n.textSecondary},children:["Joined ",new Date(k.created_at).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold",style:{color:n.textSecondary},children:"Requests"}),a.jsx("p",{className:"typography-small sm:typography-ui font-bold",style:{color:n.textPrimary},children:R.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold",style:{color:n.textSecondary},children:"Earned"}),a.jsxs("p",{className:"typography-small sm:typography-ui font-bold",style:{color:n.accent},children:["$",(L==null?void 0:L.total_cashback_earned.toFixed(2))||"0.00"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold",style:{color:n.textSecondary},children:"Paid"}),a.jsxs("p",{className:"typography-small sm:typography-ui font-bold",style:{color:n.textPrimary},children:["$",(L==null?void 0:L.total_cashback_paid.toFixed(2))||"0.00"]})]})]})]}),a.jsxs("button",{onClick:()=>N(k),className:"px-3 sm:px-4 py-2 rounded-lg typography-small sm:typography-ui font-semibold transition-colors flex items-center justify-center space-x-2 w-full lg:w-auto",style:{backgroundColor:`${n.accent}20`,color:n.accent},children:[a.jsx(qs,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{children:"Email"})]})]},k.id)})})]})}),s==="payouts"&&a.jsx("div",{className:"space-y-4 sm:space-y-6 animate-fadeIn h-full",children:a.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border flex-1 overflow-hidden",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsx("h3",{className:"typography-ui sm:typography-h4 mb-4",style:{color:n.textPrimary},children:"Payout Management"}),a.jsx("div",{className:"space-y-4 overflow-y-auto max-h-full",children:v.map(k=>a.jsxs("div",{className:"p-3 sm:p-4 rounded-xl border",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3 space-y-2 sm:space-y-0",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"typography-small sm:typography-ui font-semibold break-all",style:{color:n.textPrimary},children:k.user_email}),a.jsxs("p",{className:"typography-small",style:{color:n.textSecondary},children:["Created ",new Date(k.created_at).toLocaleDateString()]})]}),a.jsxs("div",{className:"text-left sm:text-right",children:[a.jsxs("p",{className:"typography-small sm:typography-ui font-bold",style:{color:n.accent},children:["$",k.payout_amount.toFixed(2)]}),a.jsxs("span",{className:"px-2 sm:px-3 py-1 rounded-full typography-small font-semibold border flex items-center w-fit",style:$l(k.status),children:[Kt(k.status),a.jsx("span",{className:"ml-1 capitalize",children:k.status})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Wallet Address"}),a.jsx("p",{className:"font-mono typography-small break-all p-2 rounded border",style:{color:n.textPrimary,backgroundColor:`${n.cardBackground}80`,border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:k.crypto_wallet_address})]}),k.transaction_hash&&a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Transaction Hash"}),a.jsx("p",{className:"font-mono typography-small break-all p-2 rounded border",style:{color:n.textPrimary,backgroundColor:`${n.cardBackground}80`,border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:k.transaction_hash})]})]}),k.status==="pending"&&a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsx("input",{type:"text",placeholder:"Transaction hash",className:"flex-1 px-3 py-2 rounded-lg border typography-small",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",color:n.textPrimary},onKeyPress:R=>{if(R.key==="Enter"){const L=R.target.value;L.trim()&&yr(k.id,L.trim())}}}),a.jsx("button",{onClick:()=>{const R=document.querySelector('input[placeholder="Transaction hash"]'),L=R==null?void 0:R.value.trim();L&&yr(k.id,L)},disabled:sn===k.id,className:"px-3 sm:px-4 py-2 rounded-lg typography-small sm:typography-ui font-semibold transition-colors disabled:opacity-50 w-full sm:w-auto",style:{backgroundColor:n.accent,color:n.ctaText},children:sn===k.id?"Processing...":"Mark Paid"})]})]},k.id))})]})}),s==="analytics"&&a.jsx("div",{className:"space-y-4 sm:space-y-6 animate-fadeIn h-full",children:a.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border flex-1 overflow-hidden",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsx("h3",{className:"typography-ui sm:typography-h4 mb-6",style:{color:n.textPrimary},children:"Revenue Analytics"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4 mb-6",children:[a.jsxs("div",{className:"p-3 sm:p-4 rounded-xl border text-center",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsx("p",{className:"typography-small font-semibold mb-2",style:{color:n.textSecondary},children:"Total Users"}),a.jsx("p",{className:"text-xl sm:text-2xl font-bold",style:{color:n.textPrimary},children:_.length})]}),a.jsxs("div",{className:"p-3 sm:p-4 rounded-xl border text-center",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsx("p",{className:"typography-small font-semibold mb-2",style:{color:n.textSecondary},children:"Conversion Rate"}),a.jsxs("p",{className:"text-xl sm:text-2xl font-bold",style:{color:n.accent},children:[Ze.totalRequests>0?(Ze.approvedRequests/Ze.totalRequests*100).toFixed(1):0,"%"]})]}),a.jsxs("div",{className:"p-3 sm:p-4 rounded-xl border text-center",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsx("p",{className:"typography-small font-semibold mb-2",style:{color:n.textSecondary},children:"Avg Cashback"}),a.jsxs("p",{className:"text-xl sm:text-2xl font-bold",style:{color:n.textPrimary},children:["$",Ze.approvedRequests>0?(Ze.totalCashbackOwed/Ze.approvedRequests).toFixed(2):"0.00"]})]})]}),a.jsxs("div",{className:"overflow-y-auto max-h-96",children:[a.jsx("h4",{className:"typography-small sm:typography-ui font-semibold mb-4",style:{color:n.textPrimary},children:"Top Users by Total Savings"}),a.jsx("div",{className:"space-y-3",children:w.slice(0,10).map((k,R)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsxs("div",{className:"flex items-center space-x-3 min-w-0 flex-1",children:[a.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center typography-small font-bold flex-shrink-0",style:{backgroundColor:`${n.accent}20`,color:n.accent},children:R+1}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"typography-small sm:typography-ui font-semibold break-all",style:{color:n.textPrimary},children:k.user_email}),a.jsxs("p",{className:"typography-small",style:{color:n.textSecondary},children:[k.total_requests," requests • ",k.approved_requests," approved"]})]})]}),a.jsxs("div",{className:"text-right flex-shrink-0",children:[a.jsxs("p",{className:"typography-small sm:typography-ui font-bold",style:{color:n.accent},children:["$",(k.total_cashback_earned+k.total_discount_saved).toFixed(2)]}),a.jsx("p",{className:"typography-small",style:{color:n.textSecondary},children:"total savings"})]})]},k.user_id))})]})]})}),s==="communications"&&a.jsx("div",{className:"space-y-4 sm:space-y-6 animate-fadeIn h-full",children:a.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border flex-1 overflow-hidden",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:[a.jsx("h3",{className:"typography-ui sm:typography-h4 mb-4",style:{color:n.textPrimary},children:"User Communications"}),a.jsx("p",{className:"typography-small sm:typography-body mb-6",style:{color:n.textSecondary},children:"Send emails to users and manage communication history. In production, this would integrate with an email service."}),a.jsx("div",{className:"p-3 sm:p-4 rounded-xl border mb-6",style:{backgroundColor:"rgba(234, 179, 8, 0.1)",borderColor:"rgba(234, 179, 8, 0.2)"},children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(mo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small sm:typography-ui font-semibold text-yellow-800 mb-1",children:"Email Integration Required"}),a.jsx("p",{className:"typography-small text-yellow-700",children:"This feature logs email communications but requires integration with an email service (like EmailJS, SendGrid, or AWS SES) to actually send emails."})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 overflow-y-auto max-h-96",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"typography-small sm:typography-ui font-semibold mb-3",style:{color:n.textPrimary},children:"Quick Actions"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{className:"w-full p-3 rounded-xl border text-left transition-colors hover:bg-opacity-80",style:{backgroundColor:`${n.accent}10`,borderColor:`${n.accent}20`,color:n.textPrimary},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(qs,{className:"h-4 w-4 sm:h-5 sm:w-5",style:{color:n.accent}}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small sm:typography-ui font-semibold",children:"Welcome New Users"}),a.jsx("p",{className:"typography-small",style:{color:n.textSecondary},children:"Send welcome email to recent signups"})]})]})}),a.jsx("button",{className:"w-full p-3 rounded-xl border text-left transition-colors hover:bg-opacity-80",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",color:n.textPrimary},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Vm,{className:"h-4 w-4 sm:h-5 sm:w-5",style:{color:n.accent}}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small sm:typography-ui font-semibold",children:"Broadcast Announcement"}),a.jsx("p",{className:"typography-small",style:{color:n.textSecondary},children:"Send message to all users"})]})]})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"typography-small sm:typography-ui font-semibold mb-3",style:{color:n.textPrimary},children:"Recent Communications"}),a.jsx("div",{className:"space-y-3",children:a.jsx("div",{className:"p-3 rounded-lg border",style:{border:"1.59809px solid rgba(255, 255, 255, 0.1)"},children:a.jsx("p",{className:"typography-small",style:{color:n.textSecondary},children:"No communications sent yet"})})})]})]})]})})]})})}),j&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(20px)"},children:a.jsxs("div",{className:"p-4 sm:p-6 max-w-md w-full rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",backdropFilter:"blur(24px)",WebkitBackdropFilter:"blur(24px)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:`${n.cardShadow}, 0 0 0 1px rgba(255, 255, 255, 0.05)`},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"typography-ui sm:typography-h4",style:{color:n.textPrimary},children:"Send Email"}),a.jsx("button",{onClick:()=>N(null),className:"p-2 rounded-lg transition-colors hover:bg-opacity-80",style:{background:"rgba(151, 86, 125, 0.05)"},children:a.jsx(Yr,{className:"h-4 w-4 sm:h-5 sm:w-5",style:{color:n.textSecondary}})})]}),a.jsxs("p",{className:"typography-small sm:typography-body mb-4 break-all",style:{color:n.textSecondary},children:["To: ",j.email]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:n.textPrimary},children:"Subject"}),a.jsx("input",{type:"text",value:T,onChange:k=>K(k.target.value),className:"w-full px-3 py-2 rounded-lg border typography-small sm:typography-body",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",color:n.textPrimary},placeholder:"Email subject"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:n.textPrimary},children:"Message"}),a.jsx("textarea",{value:I,onChange:k=>be(k.target.value),rows:4,className:"w-full px-3 py-2 rounded-lg border typography-small sm:typography-body resize-none",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",color:n.textPrimary},placeholder:"Email message"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[a.jsx("button",{onClick:()=>N(null),className:"flex-1 px-4 py-2 rounded-lg typography-small sm:typography-ui font-semibold border transition-colors",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",color:n.textSecondary},children:"Cancel"}),a.jsx("button",{onClick:()=>it(j.id,j.email),disabled:wt,className:"flex-1 px-4 py-2 rounded-lg typography-small sm:typography-ui font-semibold transition-colors disabled:opacity-50",style:{backgroundColor:n.accent,color:n.ctaText},children:wt?"Sending...":"Send Email"})]})]})]})})]}),a.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
      `})]}):null}function $0({user:t}){const{theme:e}=Xe(),[r,n]=P.useState({totalDiscountSaved:0,totalCashbackEarned:0,totalCashbackPaid:0,totalPendingCashback:0,totalSavings:0,totalRequests:0,approvedRequests:0,pendingRequests:0,rejectedRequests:0,savingsByFirm:{}}),[s,o]=P.useState(!0),[i,l]=P.useState([]);P.useEffect(()=>{t&&c()},[t]);const c=async()=>{if(t){o(!0);try{const{data:h,error:g}=await B.from("cashback_submissions").select(`
          *,
          prop_firms (
            name,
            cashback_percentage,
            discount_percentage
          )
        `).eq("user_id",t.id).order("created_at",{ascending:!1});if(g)throw g;const v=u(h||[]);n(v);const x=d(v);l(x),await f(v)}catch(h){console.error("Error fetching user savings:",h)}finally{o(!1)}}},u=h=>{const g={totalDiscountSaved:0,totalCashbackEarned:0,totalCashbackPaid:0,totalPendingCashback:0,totalSavings:0,totalRequests:h.length,approvedRequests:0,pendingRequests:0,rejectedRequests:0,savingsByFirm:{}};return h.forEach(v=>{var y,w,b;const x=v.purchase_amount*(((y=v.prop_firms)==null?void 0:y.discount_percentage)||0)/100,_=v.purchase_amount*(((w=v.prop_firms)==null?void 0:w.cashback_percentage)||0)/100;g.totalDiscountSaved+=x,v.status==="paid"?(g.totalCashbackEarned+=_,g.approvedRequests++):v.status==="pending"?(g.pendingRequests++,g.totalPendingCashback+=_):v.status==="rejected"&&g.rejectedRequests++;const m=v.prop_firm_id,p=((b=v.prop_firms)==null?void 0:b.name)||"Unknown Firm";g.savingsByFirm[m]||(g.savingsByFirm[m]={discount:0,cashback:0,pendingCashback:0,requests:0,firmName:p}),g.savingsByFirm[m].discount+=x,g.savingsByFirm[m].requests++,v.status==="paid"?g.savingsByFirm[m].cashback+=_:v.status==="pending"&&(g.savingsByFirm[m].pendingCashback+=_)}),g.totalSavings=g.totalCashbackEarned+g.totalPendingCashback,g},d=h=>[{id:"first_request",title:"Getting Started",description:"Submit your first cashback request",icon:a.jsx(Ch,{className:"h-5 w-5"}),threshold:1,achieved:h.totalRequests>=1,progress:Math.min(h.totalRequests,1)},{id:"saver_100",title:"Smart Saver",description:"Earn $100 in total cashback (approved + pending)",icon:a.jsx(Yn,{className:"h-5 w-5"}),threshold:100,achieved:h.totalSavings>=100,progress:Math.min(h.totalSavings,100)},{id:"saver_500",title:"Super Saver",description:"Earn $500 in total cashback (approved + pending)",icon:a.jsx(Lo,{className:"h-5 w-5"}),threshold:500,achieved:h.totalSavings>=500,progress:Math.min(h.totalSavings,500)},{id:"frequent_trader",title:"Frequent Trader",description:"Submit 5 cashback requests",icon:a.jsx(Km,{className:"h-5 w-5"}),threshold:5,achieved:h.totalRequests>=5,progress:Math.min(h.totalRequests,5)},{id:"cashback_master",title:"Cashback Master",description:"Earn $200 in approved cashback",icon:a.jsx(Fm,{className:"h-5 w-5"}),threshold:200,achieved:h.totalCashbackEarned>=200,progress:Math.min(h.totalCashbackEarned,200)},{id:"diversified_trader",title:"Diversified Trader",description:"Trade with 3 different prop firms",icon:a.jsx(Io,{className:"h-5 w-5"}),threshold:3,achieved:Object.keys(h.savingsByFirm).length>=3,progress:Math.min(Object.keys(h.savingsByFirm).length,3)}],f=async h=>{try{const{error:g}=await B.from("user_savings_tracker").upsert({user_id:t.id,user_email:t.email,total_discount_saved:h.totalDiscountSaved,total_cashback_earned:h.totalCashbackEarned,total_cashback_paid:h.totalCashbackPaid,total_pending_cashback:h.totalPendingCashback,total_requests:h.totalRequests,approved_requests:h.approvedRequests,last_updated:new Date().toISOString()},{onConflict:"user_id"});if(g)throw g}catch(g){console.error("Error updating user savings tracker:",g)}};return s?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:e.accent}})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"typography-h3 mb-2",style:{color:e.textPrimary},children:"Your Total Savings"}),a.jsxs("div",{className:"text-4xl font-bold mb-2",style:{color:e.accent},children:["$",r.totalSavings.toFixed(2)]}),a.jsx("p",{className:"typography-body",style:{color:e.textSecondary},children:"Combined approved and pending cashback"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 rounded-xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"text-xl font-bold mb-1",style:{color:e.accent},children:["$",r.totalPendingCashback.toFixed(2)]}),a.jsx("div",{className:"typography-small font-semibold",style:{color:e.textSecondary},children:"Pending Cashback"})]}),a.jsxs("div",{className:"text-center p-4 rounded-xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"text-xl font-bold mb-1",style:{color:e.accent},children:["$",r.totalCashbackEarned.toFixed(2)]}),a.jsx("div",{className:"typography-small font-semibold",style:{color:e.textSecondary},children:"Cashback Earned"})]}),a.jsxs("div",{className:"text-center p-4 rounded-xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsx("div",{className:"text-xl font-bold mb-1",style:{color:e.textPrimary},children:r.totalRequests}),a.jsx("div",{className:"typography-small font-semibold",style:{color:e.textSecondary},children:"Total Requests"})]}),a.jsxs("div",{className:"text-center p-4 rounded-xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsx("div",{className:"text-xl font-bold mb-1",style:{color:e.textPrimary},children:r.approvedRequests}),a.jsx("div",{className:"typography-small font-semibold",style:{color:e.textSecondary},children:"Approved"})]})]})]}),a.jsxs("div",{className:"p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("h4",{className:"typography-h4 mb-4",style:{color:e.textPrimary},children:"Achievements"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(h=>a.jsx("div",{className:`p-4 rounded-xl border transition-all duration-200 ${h.achieved?"hover:scale-105":""}`,style:{background:h.achieved?`${e.accent}10`:"rgba(151, 86, 125, 0.05)",border:h.achieved?`1.59809px solid ${e.accent}30`:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px",opacity:h.achieved?1:.7},children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"p-2 rounded-lg flex-shrink-0",style:{backgroundColor:h.achieved?e.accent:`${e.textSecondary}20`,color:h.achieved?e.ctaText:e.textSecondary},children:h.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("h5",{className:"typography-ui font-semibold",style:{color:e.textPrimary},children:h.title}),h.achieved&&a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.accent}})]}),a.jsx("p",{className:"typography-small mb-2",style:{color:e.textSecondary},children:h.description}),!h.achieved&&a.jsxs("div",{children:[a.jsx("div",{className:"w-full h-2 rounded-full mb-1",style:{backgroundColor:`${e.textSecondary}20`},children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{backgroundColor:e.accent,width:`${h.progress/h.threshold*100}%`}})}),a.jsxs("p",{className:"typography-small",style:{color:e.textSecondary},children:[h.progress.toFixed(0)," / ",h.threshold]})]})]})]})},h.id))})]}),Object.keys(r.savingsByFirm).length>0&&a.jsxs("div",{className:"p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("h4",{className:"typography-h4 mb-4",style:{color:e.textPrimary},children:"Cashback by Prop Firm"}),a.jsx("div",{className:"space-y-3",children:Object.entries(r.savingsByFirm).sort(([,h],[,g])=>g.cashback+g.pendingCashback-(h.cashback+h.pendingCashback)).map(([h,g])=>a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsxs("div",{children:[a.jsx("p",{className:"typography-ui font-semibold mb-1",style:{color:e.textPrimary},children:g.firmName}),a.jsxs("p",{className:"typography-small",style:{color:e.textSecondary},children:[g.requests," request",g.requests!==1?"s":""]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"typography-ui font-bold mb-1",style:{color:e.accent},children:["$",(g.cashback+g.pendingCashback).toFixed(2)]}),a.jsxs("div",{className:"flex space-x-4 typography-small",style:{color:e.textSecondary},children:[a.jsxs("span",{children:["Approved: $",g.cashback.toFixed(2)]}),a.jsxs("span",{children:["Pending: $",g.pendingCashback.toFixed(2)]})]})]})]},h))})]}),r.totalRequests===0&&a.jsxs("div",{className:"text-center py-12 p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",style:{backgroundColor:`${e.accent}20`},children:a.jsx(Yn,{className:"h-8 w-8",style:{color:e.accent}})}),a.jsx("h3",{className:"typography-h4 mb-2",style:{color:e.textPrimary},children:"Start Saving Today"}),a.jsx("p",{className:"typography-body mb-6",style:{color:e.textSecondary},children:"Submit your first cashback request to start tracking your savings and earning achievements."})]})]})}function R0({isOpen:t,onClose:e,user:r}){const{theme:n}=Xe(),[s,o]=P.useState([]),[i,l]=P.useState(!0),[c,u]=P.useState("all"),d=(r==null?void 0:r.email)==="admin@propmate.com";P.useEffect(()=>{if(t&&r){if(d)return;f()}},[t,r,d]);const f=async()=>{if(!(!r||d)){l(!0);try{const{data:x,error:_}=await B.from("cashback_submissions").select(`
          *,
          prop_firms (
            name,
            logo_url,
            cashback_percentage
          )
        `).eq("user_id",r.id).order("created_at",{ascending:!1});if(_)throw _;o(x||[])}catch(x){console.error("Error fetching user submissions:",x)}finally{l(!1)}}},h=s.filter(x=>c==="all"||x.status===c),g=x=>{switch(x){case"paid":return a.jsx(Jn,{className:"h-5 w-5",style:{color:n.accent}});case"rejected":return a.jsx(Eh,{className:"h-5 w-5 text-red-500"});default:return a.jsx(ga,{className:"h-5 w-5 text-yellow-500"})}},v=x=>{switch(x){case"paid":return{backgroundColor:`${n.accent}10`,color:n.accent,borderColor:`${n.accent}20`};case"rejected":return{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#dc2626",borderColor:"rgba(239, 68, 68, 0.2)"};default:return{backgroundColor:"rgba(234, 179, 8, 0.1)",color:"#ca8a04",borderColor:"rgba(234, 179, 8, 0.2)"}}};return t?d?a.jsx(T0,{isOpen:!0,onClose:e,user:r}):a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.6)",backdropFilter:"blur(20px)"},children:a.jsxs("div",{className:"p-4 sm:p-6 max-w-7xl w-full flex flex-col",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px",height:"min(90vh, 800px)",maxHeight:"min(90vh, 800px)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6 flex-shrink-0",children:[a.jsx("h2",{className:"typography-h4 sm:typography-h3",style:{color:n.textPrimary},children:"My Dashboard"}),a.jsx("button",{onClick:e,className:"p-2 rounded-2xl transition-colors hover:bg-opacity-80",style:{background:"rgba(151, 86, 125, 0.05)"},children:a.jsx(Yr,{className:"h-5 w-5 sm:h-6 sm:w-6",style:{color:n.textSecondary}})})]}),r?a.jsx("div",{className:"flex-1 overflow-hidden",children:a.jsxs("div",{className:"h-full overflow-y-auto space-y-4 sm:space-y-6",children:[a.jsx($0,{user:r}),a.jsxs("div",{children:[a.jsx("h3",{className:"typography-h4 mb-6",style:{color:n.textPrimary},children:"My Cashback Requests"}),a.jsx("div",{className:"flex space-x-1 mb-4 sm:mb-6 p-1 overflow-x-auto flex-shrink-0",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:["all","pending","paid","rejected"].map(x=>a.jsxs("button",{onClick:()=>u(x),className:"flex items-center space-x-1 sm:space-x-2 px-2 sm:px-4 py-2 rounded-xl typography-small sm:typography-ui font-semibold transition-all whitespace-nowrap capitalize",style:c===x?{backgroundColor:`${n.accent}20`,color:n.accent,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"}:{color:n.textSecondary},children:[x," (",s.filter(_=>x==="all"||_.status===x).length,")"]},x))}),a.jsx("div",{children:i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2",style:{borderColor:n.accent}})}):h.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"typography-ui font-semibold mb-4",style:{color:n.textSecondary},children:s.length===0?"No cashback requests found":`No ${c} requests found`}),s.length===0&&a.jsx("p",{className:"typography-body",style:{color:n.textSecondary},children:'Submit your first cashback request by clicking "Claim Cashback" on any prop firm.'})]}):a.jsx("div",{className:"space-y-4",children:h.map(x=>{var _,m,p;return a.jsxs("div",{className:"p-4 sm:p-6 rounded-2xl border transition-all duration-200 hover:scale-105",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:((_=x.prop_firms)==null?void 0:_.logo_url)||"",alt:"Prop firm logo",className:"w-12 h-12 rounded-2xl object-cover border",style:{borderColor:"rgba(255, 255, 255, 0.1)"}}),a.jsxs("div",{children:[a.jsx("h4",{className:"typography-h4",style:{color:n.textPrimary},children:(m=x.prop_firms)==null?void 0:m.name}),a.jsxs("p",{className:"typography-small",style:{color:n.textSecondary},children:["Submitted ",new Date(x.created_at).toLocaleDateString()]})]})]}),a.jsxs("span",{className:"px-4 py-2 rounded-2xl typography-small font-semibold border flex items-center",style:v(x.status),children:[g(x.status),a.jsx("span",{className:"ml-2 capitalize",children:x.status})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Purchase Amount"}),a.jsxs("p",{className:"typography-ui font-semibold",style:{color:n.textPrimary},children:["$",x.purchase_amount.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Cashback Amount"}),a.jsxs("p",{className:"typography-ui font-semibold",style:{color:n.accent},children:["$",(x.purchase_amount*(((p=x.prop_firms)==null?void 0:p.cashback_percentage)||0)/100).toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-1",style:{color:n.textSecondary},children:"Last Updated"}),a.jsx("p",{className:"typography-ui font-semibold",style:{color:n.textPrimary},children:new Date(x.updated_at).toLocaleDateString()})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-2",style:{color:n.textSecondary},children:"Wallet Address"}),a.jsx("p",{className:"font-mono typography-small px-3 py-2 rounded-xl break-all border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",color:n.textPrimary},children:x.wallet_address})]}),a.jsxs("div",{children:[a.jsx("p",{className:"typography-small font-semibold mb-2",style:{color:n.textSecondary},children:"Proof of Purchase"}),a.jsxs("a",{href:x.proof_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center typography-ui font-semibold transition-colors hover:opacity-80",style:{color:n.accent},children:[a.jsx("span",{className:"truncate",children:"View Proof"}),a.jsx(jl,{className:"h-4 w-4 ml-1 flex-shrink-0"})]})]})]})]},x.id)})})})]})]})}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"typography-ui font-semibold mb-4",style:{color:n.textSecondary},children:"Please sign in to view your dashboard"}),a.jsx("button",{onClick:e,className:"px-6 py-3 rounded-2xl typography-ui font-semibold transition-all duration-200 hover:scale-105 transform",style:{background:`linear-gradient(135deg, ${n.cta} 0%, ${n.accent} 100%)`,color:n.ctaText,boxShadow:`0 12px 40px ${n.cta}40, inset 0 1px 0 rgba(255, 255, 255, 0.2)`},children:"Close"})]})]})}):null}function A0({isOpen:t,onClose:e,initialMode:r="signin"}){const{theme:n}=Xe(),[s,o]=P.useState(r),[i,l]=P.useState({email:"",password:"",confirmPassword:""}),[c,u]=P.useState(!1),[d,f]=P.useState(""),[h,g]=P.useState(""),[v,x]=P.useState({}),_=()=>{const w={};return i.email.trim()?ef(i.email)||(w.email="Please enter a valid email address"):w.email="Email address is required",i.password?i.password.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",s==="signup"&&(i.confirmPassword?i.password!==i.confirmPassword&&(w.confirmPassword="Passwords do not match"):w.confirmPassword="Please confirm your password"),x(w),Object.keys(w).length===0},m=async w=>{if(w.preventDefault(),!!_()){u(!0),f(""),g("");try{s==="signup"?(await w0(i.email.trim(),i.password),g("Account created successfully! Please check your email to verify your account."),l({email:"",password:"",confirmPassword:""})):(await b0(i.email.trim(),i.password),g("Signed in successfully!"),setTimeout(()=>{e()},1500))}catch(b){f(b instanceof Error?b.message:"An error occurred")}finally{u(!1)}}},p=w=>{const{name:b,value:j}=w.target;l(N=>({...N,[b]:j})),v[b]&&x(N=>({...N,[b]:void 0}))},y=()=>{o(s==="signin"?"signup":"signin"),f(""),g(""),l({email:"",password:"",confirmPassword:""}),x({})};return qr.useEffect(()=>{t||(l({email:"",password:"",confirmPassword:""}),x({}),f(""),g(""))},[t]),t?a.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(50px)"},children:a.jsxs("div",{className:"p-6 sm:p-8 max-w-md w-full max-h-[95vh] overflow-y-auto",style:{position:"relative",background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",boxShadow:"inset 0px 6.39234px 6.39234px rgba(0, 0, 0, 0.25)",backdropFilter:"blur(31.9617px)",borderRadius:"38.3541px"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[a.jsx("h2",{className:"typography-h4",style:{color:n.textPrimary},children:s==="signup"?"Create Account":"Sign In"}),a.jsx("button",{onClick:e,className:"p-2 rounded-2xl transition-colors hover:bg-opacity-80",style:{backgroundColor:n.cardBackground},children:a.jsx(Yr,{className:"h-5 w-5 sm:h-6 sm:w-6",style:{color:n.textSecondary}})})]}),d&&a.jsxs("div",{className:"p-3 sm:p-4 rounded-2xl border flex items-start space-x-3 mb-4 sm:mb-6",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",borderColor:"rgba(239, 68, 68, 0.2)"},children:[a.jsx(mo,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:"#dc2626"}}),a.jsx("p",{className:"typography-small font-semibold",style:{color:"#dc2626"},children:d})]}),h&&a.jsxs("div",{className:"p-3 sm:p-4 rounded-2xl border flex items-start space-x-3 mb-4 sm:mb-6",style:{backgroundColor:`${n.accent}10`,borderColor:`${n.accent}20`},children:[a.jsx(Jn,{className:"h-5 w-5 flex-shrink-0 mt-0.5",style:{color:n.accent}}),a.jsx("p",{className:"typography-small font-semibold",style:{color:n.accent},children:h})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:n.textPrimary},children:"Email Address"}),a.jsxs("div",{className:"relative",children:[a.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5",style:{color:n.accent}}),a.jsx("input",{type:"email",name:"email",value:i.email,onChange:p,required:!0,className:"w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 rounded-2xl border focus:ring-2 focus:border-transparent transition-all typography-small sm:typography-body",style:{background:"rgba(151, 86, 125, 0.05)",backdropFilter:"blur(31.9617px)",borderColor:v.email?"#dc2626":"rgba(255, 255, 255, 0.1)",color:n.textPrimary},placeholder:"Enter your email"})]}),v.email&&a.jsx("p",{className:"mt-1 typography-small",style:{color:"#dc2626"},children:v.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:n.textPrimary},children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5",style:{color:n.accent}}),a.jsx("input",{type:"password",name:"password",value:i.password,onChange:p,required:!0,className:"w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 rounded-2xl border focus:ring-2 focus:border-transparent transition-all typography-small sm:typography-body",style:{background:"rgba(151, 86, 125, 0.05)",backdropFilter:"blur(31.9617px)",borderColor:v.password?"#dc2626":"rgba(255, 255, 255, 0.1)",color:n.textPrimary},placeholder:"Enter your password"})]}),v.password&&a.jsx("p",{className:"mt-1 typography-small",style:{color:"#dc2626"},children:v.password})]}),s==="signup"&&a.jsxs("div",{children:[a.jsx("label",{className:"block typography-small font-semibold mb-2",style:{color:n.textPrimary},children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5",style:{color:n.accent}}),a.jsx("input",{type:"password",name:"confirmPassword",value:i.confirmPassword,onChange:p,required:!0,className:"w-full pl-9 sm:pl-10 pr-3 sm:pr-4 py-2.5 sm:py-3 rounded-2xl border focus:ring-2 focus:border-transparent transition-all typography-small sm:typography-body",style:{background:"rgba(151, 86, 125, 0.05)",backdropFilter:"blur(31.9617px)",borderColor:v.confirmPassword?"#dc2626":"rgba(255, 255, 255, 0.1)",color:n.textPrimary},placeholder:"Confirm your password"})]}),v.confirmPassword&&a.jsx("p",{className:"mt-1 typography-small",style:{color:"#dc2626"},children:v.confirmPassword})]}),a.jsx("button",{type:"submit",disabled:c,className:"w-full py-2.5 sm:py-3 rounded-2xl typography-ui font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:brightness-110 flex items-center justify-center",style:{backgroundColor:n.cta,color:n.ctaText,boxShadow:`0 4px 16px ${n.cta}40`},children:c?a.jsxs(a.Fragment,{children:[a.jsx(Nh,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):s==="signup"?"Create Account":"Sign In"})]}),a.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:a.jsxs("p",{className:"typography-small sm:typography-body",style:{color:n.textSecondary},children:[s==="signup"?"Already have an account?":"Don't have an account?",a.jsx("button",{onClick:y,className:"ml-2 typography-ui font-semibold transition-colors hover:opacity-80",style:{color:n.accent},children:s==="signup"?"Sign In":"Sign Up"})]})}),s==="signup"&&a.jsxs("div",{className:"mt-4 sm:mt-6 p-4 sm:p-6 rounded-2xl border",style:{background:"rgba(151, 86, 125, 0.05)",border:"1.59809px solid rgba(255, 255, 255, 0.1)",borderRadius:"38.3541px"},children:[a.jsx("h4",{className:"typography-ui font-semibold mb-3",style:{color:n.textPrimary},children:"Why create an account?"}),a.jsxs("ul",{className:"typography-small space-y-2",style:{color:n.textSecondary},children:[a.jsx("li",{children:"• Track your cashback submissions"}),a.jsx("li",{children:"• Get notified when payments are processed"}),a.jsx("li",{children:"• Access exclusive member discounts"}),a.jsx("li",{children:"• Join our trader community"})]})]})]})}):null}function O0({className:t=""}){const e=P.useRef(null);return P.useEffect(()=>{const r=()=>!!(typeof window<"u"&&window.SplineViewer);if(!r()){const n=setInterval(()=>{r()&&clearInterval(n)},100);return()=>clearInterval(n)}},[]),a.jsxs("div",{className:`fixed inset-0 -z-10 ${t}`,children:[a.jsx("div",{className:"absolute inset-0",style:{backgroundColor:"#0D0D0D",zIndex:-2}}),a.jsx("spline-viewer",{ref:e,url:"https://prod.spline.design/TwYN6gkS7JtWEZNC/scene.splinecode",style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:-1,opacity:1.2,filter:"brightness(1.3) contrast(1.1)"}})]})}function I0(){const[t,e]=P.useState([]),[r,n]=P.useState(null),[s,o]=P.useState(!1),[i,l]=P.useState(!1),[c,u]=P.useState(!1),[d,f]=P.useState("signin"),[h,g]=P.useState(null);Xe(),P.useEffect(()=>{v();const{data:{subscription:y}}=_0(w=>{g(w)});return()=>{y==null||y.unsubscribe()}},[]);const v=async()=>{try{const{data:y,error:w}=await B.from("prop_firms").select("*").eq("is_active",!0).order("name");if(w)throw w;e(y||[])}catch(y){console.error("Error fetching prop firms:",y)}},x=y=>{if(!h){f("signup"),u(!0);return}n(y),o(!0)},_=()=>{o(!1),n(null)},m=(y="signin")=>{f(y),u(!0)},p=async()=>{try{await k0(),g(null)}catch(y){console.error("Error signing out:",y)}};return a.jsxs("div",{className:"min-h-screen relative",style:{position:"relative",zIndex:1},children:[a.jsx(O0,{}),a.jsx(Jm,{onAdminClick:()=>l(!0),user:h,onAuthClick:m,onSignOut:p}),a.jsx(Ym,{}),a.jsx(Xm,{}),a.jsx(Zm,{propFirms:t,onClaimCashback:x}),a.jsx(P0,{}),a.jsx(C0,{isOpen:s,onClose:_,propFirm:r,user:h}),a.jsx(R0,{isOpen:i,onClose:()=>l(!1),user:h}),a.jsx(A0,{isOpen:c,onClose:()=>u(!1),initialMode:d})]})}function L0(){return a.jsx(Qm,{children:a.jsx(I0,{})})}_h(document.getElementById("root")).render(a.jsx(P.StrictMode,{children:a.jsx(L0,{})}));
